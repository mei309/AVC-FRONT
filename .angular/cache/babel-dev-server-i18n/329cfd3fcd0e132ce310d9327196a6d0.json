{"ast":null,"code":"import { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/form-field\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"../../libraries/numeric.directive\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\n\nfunction InputSelectComponent_mat_error_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵi18n(1, 6);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction InputSelectComponent_ng_container_3_mat_error_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const validation_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(validation_r3.message);\n  }\n}\n\nfunction InputSelectComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 7);\n    i0.ɵɵtemplate(1, InputSelectComponent_ng_container_3_mat_error_1_Template, 2, 1, \"mat-error\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const validation_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.myFormGroup.get(ctx_r1.field.collections[0].name).hasError(validation_r3.name));\n  }\n}\n\nfunction InputSelectComponent_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r6);\n  }\n}\n\nexport class InputSelectComponent {\n  constructor() {\n    this.destroySubject$ = new Subject();\n  }\n\n  ngOnInit() {\n    if (this.field.options) {\n      if (Array.isArray(this.field.options)) {\n        if (this.field.inputType.startsWith('parent')) {\n          const nameOfFileld = this.field.inputType.slice(6);\n          this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[nameOfFileld]) {\n              this.group.get(this.field.name).patchValue(val[nameOfFileld], {\n                emitEvent: false\n              });\n            }\n          });\n        } else if (this.field.inputType === 'first') {\n          this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[this.field.collections[0].name]) {\n              this.myFormGroup.get(this.field.collections[0].name).patchValue(val[this.field.collections[0].name], {\n                emitEvent: false\n              });\n            }\n          });\n        } else if (this.field.inputType === 'second') {\n          this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[this.field.collections[1].name]) {\n              this.myFormGroup.get(this.field.collections[1].name).patchValue(val[this.field.collections[1].name], {\n                emitEvent: false\n              });\n            }\n          });\n        }\n      } else {\n        if (this.field.inputType.startsWith('parent')) {\n          const nameOfFileld = this.field.inputType.slice(6);\n          this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[nameOfFileld]) {\n              this.group.get(this.field.name).patchValue(val[nameOfFileld], {\n                emitEvent: false\n              });\n            }\n          });\n        } else if (this.field.inputType === 'first') {\n          this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[this.field.collections[0].name]) {\n              this.myFormGroup.get(this.field.collections[0].name).patchValue(val[this.field.collections[0].name], {\n                emitEvent: false\n              });\n            }\n          });\n        } else if (this.field.inputType === 'second') {\n          this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n            if (val[this.field.collections[1].name]) {\n              this.myFormGroup.get(this.field.collections[1].name).patchValue(val[this.field.collections[1].name], {\n                emitEvent: false\n              });\n            }\n          });\n        }\n      }\n    } // if(this.field.name) {\n\n\n    if (this.myFormGroup.get([this.field.collections[1].name]).value === null) {\n      this.myFormGroup.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\n    }\n\n    this.myFormGroup.get([this.field.collections[1].name]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n      if (!val) {\n        this.myFormGroup.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\n      }\n    }); // this.group = this.group.get(this.field.name) as FormGroup;\n    // } else {\n    //   if(this.group.get([this.field.collections[1].name]).value === null) {\n    //     this.group.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\n    //   }\n    //   this.group.get([this.field.collections[1].name]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\n    //     if(!val) {\n    //       this.group.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\n    //     }\n    //   });\n    // }\n  }\n\n  get myFormGroup() {\n    return this.field.name ? this.group.get(this.field.name) : this.group;\n  }\n\n  ngOnDestroy() {\n    this.destroySubject$.next();\n  }\n\n}\n\nInputSelectComponent.ɵfac = function InputSelectComponent_Factory(t) {\n  return new (t || InputSelectComponent)();\n};\n\nInputSelectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InputSelectComponent,\n  selectors: [[\"app-input-select\"]],\n  decls: 6,\n  vars: 8,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_3507550528453657824$$SRC_APP_COMPONENTS_INPUTS_INPUT_SELECT_COMPONENT_TS__1 = goog.getMsg(\"Max length 255\");\n      i18n_0 = MSG_EXTERNAL_3507550528453657824$$SRC_APP_COMPONENTS_INPUTS_INPUT_SELECT_COMPONENT_TS__1;\n    } else {\n      i18n_0 = \"Max length 255\";\n    }\n\n    return [[1, \"one-group\", 3, \"formGroup\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\", \"placeholder\"], [4, \"ngIf\"], [\"ngProjectAs\", \"mat-error\", 5, [\"mat-error\"], 4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"50%\", 3, \"formControlName\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], i18n_0, [\"ngProjectAs\", \"mat-error\", 5, [\"mat-error\"]], [3, \"value\"]];\n  },\n  template: function InputSelectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-form-field\", 0);\n      i0.ɵɵelement(1, \"input\", 1);\n      i0.ɵɵtemplate(2, InputSelectComponent_mat_error_2_Template, 2, 0, \"mat-error\", 2);\n      i0.ɵɵtemplate(3, InputSelectComponent_ng_container_3_Template, 2, 1, \"ng-container\", 3);\n      i0.ɵɵelementStart(4, \"mat-select\", 4);\n      i0.ɵɵtemplate(5, InputSelectComponent_mat_option_5_Template, 2, 2, \"mat-option\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.myFormGroup);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formControlName\", ctx.field.collections[0].name)(\"decimals\", ctx.field.collections[0].options)(\"placeholder\", ctx.field.collections[0].label);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.myFormGroup.get(ctx.field.collections[0].name).hasError(\"maxlength\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.field.collections[0].validations);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formControlName\", ctx.field.collections[1].name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.field.collections[1].options);\n    }\n  },\n  directives: [i1.MatFormField, i2.NgControlStatusGroup, i2.FormGroupDirective, i3.MatInput, i2.DefaultValueAccessor, i4.NumericDirective, i2.MaxLengthValidator, i2.NgControlStatus, i2.FormControlName, i5.NgIf, i5.NgForOf, i6.MatSelect, i1.MatError, i7.MatOption],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/components/inputs/input-select.component.ts"],"names":["takeUntil","Subject","i0","i1","i2","i3","i4","i5","i6","i7","InputSelectComponent_mat_error_2_Template","rf","ctx","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","InputSelectComponent_ng_container_3_mat_error_1_Template","ɵɵtext","validation_r3","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate","message","InputSelectComponent_ng_container_3_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ctx_r1","ɵɵproperty","myFormGroup","get","field","collections","name","hasError","InputSelectComponent_mat_option_5_Template","item_r6","InputSelectComponent","constructor","destroySubject$","ngOnInit","options","Array","isArray","inputType","startsWith","nameOfFileld","slice","group","parent","valueChanges","pipe","subscribe","val","patchValue","emitEvent","value","setValue","ngOnDestroy","next","ɵfac","InputSelectComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_3507550528453657824$$SRC_APP_COMPONENTS_INPUTS_INPUT_SELECT_COMPONENT_TS__1","goog","getMsg","template","InputSelectComponent_Template","ɵɵelement","label","validations","directives","MatFormField","NgControlStatusGroup","FormGroupDirective","MatInput","DefaultValueAccessor","NumericDirective","MaxLengthValidator","NgControlStatus","FormControlName","NgIf","NgForOf","MatSelect","MatError","MatOption","encapsulation"],"mappings":"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","sourcesContent":["import { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/form-field\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/material/input\";\r\nimport * as i4 from \"../../libraries/numeric.directive\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/material/select\";\r\nimport * as i7 from \"@angular/material/core\";\r\nfunction InputSelectComponent_mat_error_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-error\");\r\n    i0.ɵɵi18n(1, 6);\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction InputSelectComponent_ng_container_3_mat_error_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-error\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const validation_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(validation_r3.message);\r\n} }\r\nfunction InputSelectComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 7);\r\n    i0.ɵɵtemplate(1, InputSelectComponent_ng_container_3_mat_error_1_Template, 2, 1, \"mat-error\", 2);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const validation_r3 = ctx.$implicit;\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.myFormGroup.get(ctx_r1.field.collections[0].name).hasError(validation_r3.name));\r\n} }\r\nfunction InputSelectComponent_mat_option_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const item_r6 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", item_r6);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(item_r6);\r\n} }\r\nexport class InputSelectComponent {\r\n    constructor() {\r\n        this.destroySubject$ = new Subject();\r\n    }\r\n    ngOnInit() {\r\n        if (this.field.options) {\r\n            if (Array.isArray(this.field.options)) {\r\n                if (this.field.inputType.startsWith('parent')) {\r\n                    const nameOfFileld = this.field.inputType.slice(6);\r\n                    this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[nameOfFileld]) {\r\n                            this.group.get(this.field.name).patchValue(val[nameOfFileld], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n                else if (this.field.inputType === 'first') {\r\n                    this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[this.field.collections[0].name]) {\r\n                            this.myFormGroup.get(this.field.collections[0].name).patchValue(val[this.field.collections[0].name], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n                else if (this.field.inputType === 'second') {\r\n                    this.group.parent.parent.get([this.field.options[0]]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[this.field.collections[1].name]) {\r\n                            this.myFormGroup.get(this.field.collections[1].name).patchValue(val[this.field.collections[1].name], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (this.field.inputType.startsWith('parent')) {\r\n                    const nameOfFileld = this.field.inputType.slice(6);\r\n                    this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[nameOfFileld]) {\r\n                            this.group.get(this.field.name).patchValue(val[nameOfFileld], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n                else if (this.field.inputType === 'first') {\r\n                    this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[this.field.collections[0].name]) {\r\n                            this.myFormGroup.get(this.field.collections[0].name).patchValue(val[this.field.collections[0].name], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n                else if (this.field.inputType === 'second') {\r\n                    this.group.get([this.field.options]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n                        if (val[this.field.collections[1].name]) {\r\n                            this.myFormGroup.get(this.field.collections[1].name).patchValue(val[this.field.collections[1].name], { emitEvent: false });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // if(this.field.name) {\r\n        if (this.myFormGroup.get([this.field.collections[1].name]).value === null) {\r\n            this.myFormGroup.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\r\n        }\r\n        this.myFormGroup.get([this.field.collections[1].name]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n            if (!val) {\r\n                this.myFormGroup.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\r\n            }\r\n        });\r\n        // this.group = this.group.get(this.field.name) as FormGroup;\r\n        // } else {\r\n        //   if(this.group.get([this.field.collections[1].name]).value === null) {\r\n        //     this.group.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\r\n        //   }\r\n        //   this.group.get([this.field.collections[1].name]).valueChanges.pipe(takeUntil(this.destroySubject$)).subscribe(val => {\r\n        //     if(!val) {\r\n        //       this.group.get([this.field.collections[1].name]).setValue(this.field.collections[1].options[0]);\r\n        //     }\r\n        //   });\r\n        // }\r\n    }\r\n    get myFormGroup() { return this.field.name ? this.group.get(this.field.name) : this.group; }\r\n    ngOnDestroy() {\r\n        this.destroySubject$.next();\r\n    }\r\n}\r\nInputSelectComponent.ɵfac = function InputSelectComponent_Factory(t) { return new (t || InputSelectComponent)(); };\r\nInputSelectComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: InputSelectComponent, selectors: [[\"app-input-select\"]], decls: 6, vars: 8, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_3507550528453657824$$SRC_APP_COMPONENTS_INPUTS_INPUT_SELECT_COMPONENT_TS__1 = goog.getMsg(\"Max length 255\");\r\n        i18n_0 = MSG_EXTERNAL_3507550528453657824$$SRC_APP_COMPONENTS_INPUTS_INPUT_SELECT_COMPONENT_TS__1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟a41decc314508d511e0e51b76a0de40ccb3fb383␟3507550528453657824:Max length 255`;\r\n    } return [[1, \"one-group\", 3, \"formGroup\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\", \"placeholder\"], [4, \"ngIf\"], [\"ngProjectAs\", \"mat-error\", 5, [\"mat-error\"], 4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"50%\", 3, \"formControlName\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], i18n_0, [\"ngProjectAs\", \"mat-error\", 5, [\"mat-error\"]], [3, \"value\"]]; }, template: function InputSelectComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"mat-form-field\", 0);\r\n        i0.ɵɵelement(1, \"input\", 1);\r\n        i0.ɵɵtemplate(2, InputSelectComponent_mat_error_2_Template, 2, 0, \"mat-error\", 2);\r\n        i0.ɵɵtemplate(3, InputSelectComponent_ng_container_3_Template, 2, 1, \"ng-container\", 3);\r\n        i0.ɵɵelementStart(4, \"mat-select\", 4);\r\n        i0.ɵɵtemplate(5, InputSelectComponent_mat_option_5_Template, 2, 2, \"mat-option\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"formGroup\", ctx.myFormGroup);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formControlName\", ctx.field.collections[0].name)(\"decimals\", ctx.field.collections[0].options)(\"placeholder\", ctx.field.collections[0].label);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.myFormGroup.get(ctx.field.collections[0].name).hasError(\"maxlength\"));\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.field.collections[0].validations);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formControlName\", ctx.field.collections[1].name);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.field.collections[1].options);\r\n    } }, directives: [i1.MatFormField, i2.NgControlStatusGroup, i2.FormGroupDirective, i3.MatInput, i2.DefaultValueAccessor, i4.NumericDirective, i2.MaxLengthValidator, i2.NgControlStatus, i2.FormControlName, i5.NgIf, i5.NgForOf, i6.MatSelect, i1.MatError, i7.MatOption], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}