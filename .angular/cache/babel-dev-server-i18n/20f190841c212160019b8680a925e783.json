{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DynamicFormComponent } from '../dynamic-form/dynamic-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"../dynamic-form/dynamic-form.component\";\nexport class PopupformComponent {\n  constructor(dialog) {\n    this.dialog = dialog;\n    this.isadd = true;\n  }\n\n  ngOnInit() {\n    this.show = this.field.label;\n\n    if (this.group.controls[this.field.name].value) {\n      this.isadd = false;\n      this.show = \"Edit \" + this.field.label;\n    }\n  }\n\n  openDialog() {\n    var disa = this.group.controls[this.field.name].disabled && !this.field.inputType;\n    const dialogRef = this.dialog.open(PopupformDialog, {\n      width: '70%',\n      height: '70%',\n      data: {\n        field: this.field,\n        oldValue: this.group.controls[this.field.name].value,\n        disable: disa\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 'closed' || !result) {} else {\n        this.show = \"Edit \" + this.field.label;\n        this.group.controls[this.field.name].setValue(result);\n        this.isadd = false;\n      }\n    });\n  }\n\n}\n\nPopupformComponent.ɵfac = function PopupformComponent_Factory(t) {\n  return new (t || PopupformComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n};\n\nPopupformComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PopupformComponent,\n  selectors: [[\"app-popupform\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [3, \"hidden\"]],\n  template: function PopupformComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function PopupformComponent_Template_button_click_0_listener() {\n        return ctx.openDialog();\n      });\n      i0.ɵɵelementStart(1, \"span\", 1);\n      i0.ɵɵelementStart(2, \"mat-icon\");\n      i0.ɵɵtext(3, \"done\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.isadd);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.show, \"\\n\");\n    }\n  },\n  directives: [i2.MatButton, i3.MatIcon],\n  encapsulation: 2\n}); // tslint:disable-next-line: component-class-suffix\n\nexport class PopupformDialog {\n  constructor(cdRef, dialogRef, data) {\n    this.cdRef = cdRef;\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.putData = data.oldValue;\n    this.regConfig = Object.assign([], data.field.collections);\n    this.info = data.field.label;\n    this.disable = data.disable;\n  }\n\n  ngAfterViewInit() {\n    if (this.disable) {\n      this.form.disable();\n      this.cdRef.detectChanges();\n    }\n  }\n\n  submit(value) {\n    this.dialogRef.close(value);\n  }\n\n  onNoClick() {\n    this.dialogRef.close('closed');\n  }\n\n}\n\nPopupformDialog.ɵfac = function PopupformDialog_Factory(t) {\n  return new (t || PopupformDialog)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\n\nPopupformDialog.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PopupformDialog,\n  selectors: [[\"app-popupform-dialog\"]],\n  viewQuery: function PopupformDialog_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(DynamicFormComponent, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 1,\n  vars: 3,\n  consts: [[\"popup\", \"true\", 3, \"putData\", \"fields\", \"mainLabel\", \"submitForm\"]],\n  template: function PopupformDialog_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"dynamic-form\", 0);\n      i0.ɵɵlistener(\"submitForm\", function PopupformDialog_Template_dynamic_form_submitForm_0_listener($event) {\n        return ctx.submit($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"putData\", ctx.putData)(\"fields\", ctx.regConfig)(\"mainLabel\", ctx.info);\n    }\n  },\n  directives: [i4.DynamicFormComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/components/popupform/popupform.component.ts"],"names":["MAT_DIALOG_DATA","DynamicFormComponent","i0","i1","i2","i3","i4","PopupformComponent","constructor","dialog","isadd","ngOnInit","show","field","label","group","controls","name","value","openDialog","disa","disabled","inputType","dialogRef","open","PopupformDialog","width","height","data","oldValue","disable","afterClosed","subscribe","result","setValue","ɵfac","PopupformComponent_Factory","t","ɵɵdirectiveInject","MatDialog","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PopupformComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","PopupformComponent_Template_button_click_0_listener","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1","directives","MatButton","MatIcon","encapsulation","cdRef","putData","regConfig","Object","assign","collections","info","ngAfterViewInit","form","detectChanges","submit","close","onNoClick","PopupformDialog_Factory","ChangeDetectorRef","MatDialogRef","viewQuery","PopupformDialog_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","PopupformDialog_Template","PopupformDialog_Template_dynamic_form_submitForm_0_listener","$event"],"mappings":"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","sourcesContent":["import { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DynamicFormComponent } from '../dynamic-form/dynamic-form.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"@angular/material/button\";\r\nimport * as i3 from \"@angular/material/icon\";\r\nimport * as i4 from \"../dynamic-form/dynamic-form.component\";\r\nexport class PopupformComponent {\r\n    constructor(dialog) {\r\n        this.dialog = dialog;\r\n        this.isadd = true;\r\n    }\r\n    ngOnInit() {\r\n        this.show = this.field.label;\r\n        if (this.group.controls[this.field.name].value) {\r\n            this.isadd = false;\r\n            this.show = $localize `Edit ` + this.field.label;\r\n        }\r\n    }\r\n    openDialog() {\r\n        var disa = this.group.controls[this.field.name].disabled && !this.field.inputType;\r\n        const dialogRef = this.dialog.open(PopupformDialog, {\r\n            width: '70%',\r\n            height: '70%',\r\n            data: { field: this.field, oldValue: this.group.controls[this.field.name].value,\r\n                disable: disa },\r\n        });\r\n        dialogRef.afterClosed().subscribe(result => {\r\n            if (result === 'closed' || !result) {\r\n            }\r\n            else {\r\n                this.show = $localize `Edit ` + this.field.label;\r\n                this.group.controls[this.field.name].setValue(result);\r\n                this.isadd = false;\r\n            }\r\n        });\r\n    }\r\n}\r\nPopupformComponent.ɵfac = function PopupformComponent_Factory(t) { return new (t || PopupformComponent)(i0.ɵɵdirectiveInject(i1.MatDialog)); };\r\nPopupformComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PopupformComponent, selectors: [[\"app-popupform\"]], decls: 5, vars: 2, consts: [[\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [3, \"hidden\"]], template: function PopupformComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"button\", 0);\r\n        i0.ɵɵlistener(\"click\", function PopupformComponent_Template_button_click_0_listener() { return ctx.openDialog(); });\r\n        i0.ɵɵelementStart(1, \"span\", 1);\r\n        i0.ɵɵelementStart(2, \"mat-icon\");\r\n        i0.ɵɵtext(3, \"done\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(4);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"hidden\", ctx.isadd);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.show, \"\\n\");\r\n    } }, directives: [i2.MatButton, i3.MatIcon], encapsulation: 2 });\r\n// tslint:disable-next-line: component-class-suffix\r\nexport class PopupformDialog {\r\n    constructor(cdRef, dialogRef, data) {\r\n        this.cdRef = cdRef;\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.putData = data.oldValue;\r\n        this.regConfig = Object.assign([], data.field.collections);\r\n        this.info = data.field.label;\r\n        this.disable = data.disable;\r\n    }\r\n    ngAfterViewInit() {\r\n        if (this.disable) {\r\n            this.form.disable();\r\n            this.cdRef.detectChanges();\r\n        }\r\n    }\r\n    submit(value) {\r\n        this.dialogRef.close(value);\r\n    }\r\n    onNoClick() {\r\n        this.dialogRef.close('closed');\r\n    }\r\n}\r\nPopupformDialog.ɵfac = function PopupformDialog_Factory(t) { return new (t || PopupformDialog)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA)); };\r\nPopupformDialog.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PopupformDialog, selectors: [[\"app-popupform-dialog\"]], viewQuery: function PopupformDialog_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(DynamicFormComponent, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\r\n    } }, decls: 1, vars: 3, consts: [[\"popup\", \"true\", 3, \"putData\", \"fields\", \"mainLabel\", \"submitForm\"]], template: function PopupformDialog_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"dynamic-form\", 0);\r\n        i0.ɵɵlistener(\"submitForm\", function PopupformDialog_Template_dynamic_form_submitForm_0_listener($event) { return ctx.submit($event); });\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"putData\", ctx.putData)(\"fields\", ctx.regConfig)(\"mainLabel\", ctx.info);\r\n    } }, directives: [i4.DynamicFormComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}