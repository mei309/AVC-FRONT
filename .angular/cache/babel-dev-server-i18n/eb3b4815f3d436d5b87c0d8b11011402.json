{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { ProductionDetailsDialogComponent } from './production-detailes-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"./production.service\";\nimport * as i4 from \"./../genral.service\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"../tables/date-range-select.component\";\nimport * as i7 from \"@angular/material/tabs\";\nimport * as i8 from \"../tables/search-group-details.component\";\nexport class ProductionsComponent {\n  constructor(router, dialog, localService, _Activatedroute, genral, cdRef) {\n    this.router = router;\n    this.dialog = dialog;\n    this.localService = localService;\n    this._Activatedroute = _Activatedroute;\n    this.genral = genral;\n    this.cdRef = cdRef;\n    this.tabIndex = 0;\n    this.totelColumn = {\n      type: 'weight2',\n      name: 'processGain',\n      label: \"Total difference\",\n      group: 'poCodes',\n      options: ['%', 'LBS']\n    };\n    this.type = '';\n    this.ItemsChangable1 = new ReplaySubject();\n    this.ItemsChangable2 = new ReplaySubject();\n  }\n\n  ngOnInit() {\n    this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n      if (params.get('number')) {\n        this.tabIndex = +params.get('number');\n      }\n    });\n\n    this.columnsShow = [{\n      type: 'arrayVal',\n      name: 'poCodes',\n      label: \"PO#\",\n      search: 'normal',\n      group: 'poCodes'\n    }, {\n      type: 'arrayVal',\n      name: 'suppliers',\n      label: \"Supplier\",\n      search: 'selectObjArr',\n      options: this.genral.getSuppliersCashew(),\n      group: 'poCodes'\n    }, {\n      type: 'itemWeight',\n      name: 'usedItems',\n      label: \"Used items\",\n      search: 'listAmountWithUnit',\n      options: this.ItemsChangable1\n    }, {\n      type: 'itemWeight',\n      name: 'producedItems',\n      label: \"Produced items\",\n      search: 'listAmountWithUnit',\n      options: this.ItemsChangable2\n    }, {\n      type: 'weight2',\n      name: 'processGain',\n      label: \"Difference\",\n      search: 'objArray'\n    }, {\n      type: 'dateTime',\n      name: 'recordedTime',\n      label: \"Recorded time\",\n      search: 'dates'\n    }, {\n      type: 'normal',\n      name: 'status',\n      label: \"Status\",\n      search: 'select',\n      options: this.genral.getProcessStatus()\n    } // {\n    //     type: 'date',\n    //     name: 'receiptDate',\n    //     label: 'Receipt date',\n    //     search: 'dates',\n    // },\n    // {\n    //     type: 'date',\n    //     name: 'processDate',\n    //     label: 'Process date',\n    //     search: 'dates',\n    // },\n    ];\n    this.navigationSubscription = this.router.events.subscribe(e => {\n      // If it is a NavigationEnd event re-initalise the component\n      if (e instanceof NavigationEnd) {\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n          if (params.get('number')) {\n            this.tabIndex = +params.get('number');\n          } else {\n            this.tabIndex = 0;\n          }\n\n          this.changedAndDate(this.tabIndex);\n        });\n      }\n    });\n  }\n\n  openDialog(event) {\n    const dialogRef = this.dialog.open(ProductionDetailsDialogComponent, {\n      width: '80%',\n      data: {\n        id: event['id'],\n        fromNew: false,\n        type: this.type\n      }\n    });\n    dialogRef.afterClosed().subscribe(data => {\n      if (data === \"Edit\") {\n        switch (this.tabIndex) {\n          case 0:\n            this.router.navigate(['../Cleaning', {\n              id: event['id'],\n              poCode: event['poCodeIds'][0]\n            }], {\n              relativeTo: this._Activatedroute\n            });\n            break;\n\n          case 1:\n            this.router.navigate(['../Roasting', {\n              id: event['id'],\n              poCode: event['poCodeIds'][0]\n            }], {\n              relativeTo: this._Activatedroute\n            });\n            break;\n\n          case 2:\n            this.router.navigate(['../Toffee', {\n              id: event['id'],\n              poCodes: event['poCodeIds']\n            }], {\n              relativeTo: this._Activatedroute\n            });\n            break;\n\n          case 3:\n            this.router.navigate(['../Packing', {\n              id: event['id'],\n              poCodes: event['poCodeIds'],\n              withPacked: dialogRef.componentInstance.withPacked,\n              addPos: dialogRef.componentInstance.addPos\n            }], {\n              relativeTo: this._Activatedroute\n            });\n            break;\n\n          case 4:\n            this.router.navigate(['../QcPacking', {\n              id: event['id'],\n              poCodes: event['poCodeIds'],\n              addPos: dialogRef.componentInstance.addPos,\n              withCleaned: dialogRef.componentInstance.withCleaned\n            }], {\n              relativeTo: this._Activatedroute\n            });\n            break;\n\n          default:\n            break;\n        }\n      } else if (dialogRef.componentInstance.approveChange) {\n        this.changedAndDate(this.tabIndex);\n      }\n    });\n  }\n\n  changed(event) {\n    this.changedAndDate(event);\n  }\n\n  setDateRange($event) {\n    this.dateRange = $event;\n    this.changedAndDate(this.tabIndex);\n  }\n\n  changedAndDate(event) {\n    switch (+event) {\n      case 0:\n        this.cashewSourceColumns = null;\n        this.localService.getAllCleaning(this.dateRange).pipe(take(1)).subscribe(value => {\n          this.cashewSourceColumns = value;\n        });\n        this.type = 'Cleaning';\n        this.cdRef.detectChanges();\n        break;\n\n      case 1:\n        this.cashewSourceColumns = null;\n        this.localService.getAllRoasting(this.dateRange).pipe(take(1)).subscribe(value => {\n          this.cashewSourceColumns = value;\n        });\n        this.type = 'Roasting';\n        this.cdRef.detectChanges();\n        break;\n\n      case 2:\n        this.cashewSourceColumns = null;\n        this.localService.getAllToffee(this.dateRange).pipe(take(1)).subscribe(value => {\n          this.cashewSourceColumns = value;\n        });\n        this.type = 'Toffee';\n        this.cdRef.detectChanges();\n        break;\n\n      case 3:\n        this.cashewSourceColumns = null;\n        this.localService.getAllPacking(this.dateRange).pipe(take(1)).subscribe(value => {\n          this.cashewSourceColumns = value;\n        });\n        this.type = 'Packing';\n        this.cdRef.detectChanges();\n        break;\n\n      case 4:\n        this.cashewSourceColumns = null;\n        this.localService.getAllQcPacking(this.dateRange).pipe(take(1)).subscribe(value => {\n          this.cashewSourceColumns = value;\n        });\n        this.type = 'QC Packing';\n        this.cdRef.detectChanges();\n        break;\n\n      default:\n        break;\n    }\n\n    this.genral.getItemsCashew(this.type == 'QC Packing' ? 6 : this.tabIndex).pipe(take(1)).subscribe(val => {\n      this.ItemsChangable1.next(val);\n    });\n    this.genral.getItemsCashew(this.type == 'QC Packing' ? 7 : this.tabIndex + 1).pipe(take(1)).subscribe(val => {\n      this.ItemsChangable2.next(val);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.navigationSubscription) {\n      this.navigationSubscription.unsubscribe();\n    }\n\n    this.ItemsChangable1.unsubscribe();\n    this.ItemsChangable2.unsubscribe();\n  }\n\n}\n\nProductionsComponent.ɵfac = function ProductionsComponent_Factory(t) {\n  return new (t || ProductionsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ProductionService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Genral), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nProductionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductionsComponent,\n  selectors: [[\"app-productions\"]],\n  decls: 19,\n  vars: 4,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_8039431651275810249$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_1 = goog.getMsg(\"New Cleaning\");\n      i18n_0 = MSG_EXTERNAL_8039431651275810249$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"New Cleaning\";\n    }\n\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_4350215710352528988$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_3 = goog.getMsg(\"New Roasting\");\n      i18n_2 = MSG_EXTERNAL_4350215710352528988$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_3;\n    } else {\n      i18n_2 = \"New Roasting\";\n    }\n\n    let i18n_4;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1910628823933653984$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_5 = goog.getMsg(\"New Toffee\");\n      i18n_4 = MSG_EXTERNAL_1910628823933653984$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_5;\n    } else {\n      i18n_4 = \"New Toffee\";\n    }\n\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_7556758000928587510$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_7 = goog.getMsg(\"New Packing\");\n      i18n_6 = MSG_EXTERNAL_7556758000928587510$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_7;\n    } else {\n      i18n_6 = \"New Packing\";\n    }\n\n    let i18n_8;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_8305580719619592292$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_9 = goog.getMsg(\"Productions reports\");\n      i18n_8 = MSG_EXTERNAL_8305580719619592292$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_9;\n    } else {\n      i18n_8 = \"Productions reports\";\n    }\n\n    let i18n_10;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_3660191305615074742$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_11 = goog.getMsg(\"Cleaning\");\n      i18n_10 = MSG_EXTERNAL_3660191305615074742$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_11;\n    } else {\n      i18n_10 = \"Cleaning\";\n    }\n\n    let i18n_12;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1606488635252333001$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_13 = goog.getMsg(\"Roasting\");\n      i18n_12 = MSG_EXTERNAL_1606488635252333001$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_13;\n    } else {\n      i18n_12 = \"Roasting\";\n    }\n\n    let i18n_14;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_633131057588081991$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_15 = goog.getMsg(\"Toffee\");\n      i18n_14 = MSG_EXTERNAL_633131057588081991$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_15;\n    } else {\n      i18n_14 = \"Toffee\";\n    }\n\n    let i18n_16;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1618768293610791435$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_17 = goog.getMsg(\"Packing\");\n      i18n_16 = MSG_EXTERNAL_1618768293610791435$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_17;\n    } else {\n      i18n_16 = \"Packing\";\n    }\n\n    let i18n_18;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_5601419385934187808$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_19 = goog.getMsg(\"QC Packing\");\n      i18n_18 = MSG_EXTERNAL_5601419385934187808$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_19;\n    } else {\n      i18n_18 = \"QC Packing\";\n    }\n\n    return [[1, \"centerButtons\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Cleaning\"], i18n_0, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Roasting\"], i18n_2, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Toffee\"], i18n_4, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Packing\"], i18n_6, [2, \"text-align\", \"center\"], i18n_8, [3, \"submitRange\"], [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_10], [\"label\", i18n_12], [\"label\", i18n_14], [\"label\", i18n_16], [\"label\", i18n_18], [3, \"mainColumns\", \"detailsSource\", \"totelColumn\", \"details\"]];\n  },\n  template: function ProductionsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"button\", 1);\n      i0.ɵɵi18n(2, 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵi18n(4, 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵi18n(6, 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 7);\n      i0.ɵɵi18n(8, 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"h1\", 9);\n      i0.ɵɵi18n(10, 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"date-range-select\", 11);\n      i0.ɵɵlistener(\"submitRange\", function ProductionsComponent_Template_date_range_select_submitRange_11_listener($event) {\n        return ctx.setDateRange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"mat-tab-group\", 12);\n      i0.ɵɵlistener(\"selectedIndexChange\", function ProductionsComponent_Template_mat_tab_group_selectedIndexChange_12_listener($event) {\n        return ctx.tabIndex = $event;\n      })(\"selectedIndexChange\", function ProductionsComponent_Template_mat_tab_group_selectedIndexChange_12_listener($event) {\n        return ctx.changed($event);\n      });\n      i0.ɵɵelement(13, \"mat-tab\", 13);\n      i0.ɵɵelement(14, \"mat-tab\", 14);\n      i0.ɵɵelement(15, \"mat-tab\", 15);\n      i0.ɵɵelement(16, \"mat-tab\", 16);\n      i0.ɵɵelement(17, \"mat-tab\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"search-group-details\", 18);\n      i0.ɵɵlistener(\"details\", function ProductionsComponent_Template_search_group_details_details_18_listener($event) {\n        return ctx.openDialog($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.cashewSourceColumns)(\"totelColumn\", ctx.totelColumn);\n    }\n  },\n  directives: [i5.MatButton, i1.RouterLink, i6.DateRangeSelect, i7.MatTabGroup, i7.MatTab, i8.SearchGroupDetailsComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/production/productions.component.ts"],"names":["NavigationEnd","ReplaySubject","take","ProductionDetailsDialogComponent","i0","i1","i2","i3","i4","i5","i6","i7","i8","ProductionsComponent","constructor","router","dialog","localService","_Activatedroute","genral","cdRef","tabIndex","totelColumn","type","name","label","group","options","ItemsChangable1","ItemsChangable2","ngOnInit","paramMap","pipe","subscribe","params","get","columnsShow","search","getSuppliersCashew","getProcessStatus","navigationSubscription","events","e","changedAndDate","openDialog","event","dialogRef","open","width","data","id","fromNew","afterClosed","navigate","poCode","relativeTo","poCodes","withPacked","componentInstance","addPos","withCleaned","approveChange","changed","setDateRange","$event","dateRange","cashewSourceColumns","getAllCleaning","value","detectChanges","getAllRoasting","getAllToffee","getAllPacking","getAllQcPacking","getItemsCashew","val","next","ngOnDestroy","unsubscribe","ɵfac","ProductionsComponent_Factory","t","ɵɵdirectiveInject","Router","MatDialog","ProductionService","ActivatedRoute","Genral","ChangeDetectorRef","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_8039431651275810249$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_1","goog","getMsg","i18n_2","MSG_EXTERNAL_4350215710352528988$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_3","i18n_4","MSG_EXTERNAL_1910628823933653984$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_5","i18n_6","MSG_EXTERNAL_7556758000928587510$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_7","i18n_8","MSG_EXTERNAL_8305580719619592292$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_9","i18n_10","MSG_EXTERNAL_3660191305615074742$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_11","i18n_12","MSG_EXTERNAL_1606488635252333001$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_13","i18n_14","MSG_EXTERNAL_633131057588081991$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_15","i18n_16","MSG_EXTERNAL_1618768293610791435$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_17","i18n_18","MSG_EXTERNAL_5601419385934187808$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_19","template","ProductionsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","ɵɵlistener","ProductionsComponent_Template_date_range_select_submitRange_11_listener","ProductionsComponent_Template_mat_tab_group_selectedIndexChange_12_listener","ɵɵelement","ProductionsComponent_Template_search_group_details_details_18_listener","ɵɵadvance","ɵɵproperty","directives","MatButton","RouterLink","DateRangeSelect","MatTabGroup","MatTab","SearchGroupDetailsComponent","encapsulation"],"mappings":"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","sourcesContent":["import { NavigationEnd } from '@angular/router';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { ProductionDetailsDialogComponent } from './production-detailes-dialog.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@angular/material/dialog\";\r\nimport * as i3 from \"./production.service\";\r\nimport * as i4 from \"./../genral.service\";\r\nimport * as i5 from \"@angular/material/button\";\r\nimport * as i6 from \"../tables/date-range-select.component\";\r\nimport * as i7 from \"@angular/material/tabs\";\r\nimport * as i8 from \"../tables/search-group-details.component\";\r\nexport class ProductionsComponent {\r\n    constructor(router, dialog, localService, _Activatedroute, genral, cdRef) {\r\n        this.router = router;\r\n        this.dialog = dialog;\r\n        this.localService = localService;\r\n        this._Activatedroute = _Activatedroute;\r\n        this.genral = genral;\r\n        this.cdRef = cdRef;\r\n        this.tabIndex = 0;\r\n        this.totelColumn = {\r\n            type: 'weight2',\r\n            name: 'processGain',\r\n            label: $localize `Total difference`,\r\n            group: 'poCodes',\r\n            options: ['%', 'LBS']\r\n        };\r\n        this.type = '';\r\n        this.ItemsChangable1 = new ReplaySubject();\r\n        this.ItemsChangable2 = new ReplaySubject();\r\n    }\r\n    ngOnInit() {\r\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n            if (params.get('number')) {\r\n                this.tabIndex = +params.get('number');\r\n            }\r\n        });\r\n        this.columnsShow = [\r\n            {\r\n                type: 'arrayVal',\r\n                name: 'poCodes',\r\n                label: $localize `PO#`,\r\n                search: 'normal',\r\n                group: 'poCodes',\r\n            },\r\n            {\r\n                type: 'arrayVal',\r\n                name: 'suppliers',\r\n                label: $localize `Supplier`,\r\n                search: 'selectObjArr',\r\n                options: this.genral.getSuppliersCashew(),\r\n                group: 'poCodes',\r\n            },\r\n            {\r\n                type: 'itemWeight',\r\n                name: 'usedItems',\r\n                label: $localize `Used items`,\r\n                search: 'listAmountWithUnit',\r\n                options: this.ItemsChangable1,\r\n            },\r\n            {\r\n                type: 'itemWeight',\r\n                name: 'producedItems',\r\n                label: $localize `Produced items`,\r\n                search: 'listAmountWithUnit',\r\n                options: this.ItemsChangable2,\r\n            },\r\n            {\r\n                type: 'weight2',\r\n                name: 'processGain',\r\n                label: $localize `Difference`,\r\n                search: 'objArray',\r\n            },\r\n            {\r\n                type: 'dateTime',\r\n                name: 'recordedTime',\r\n                label: $localize `Recorded time`,\r\n                search: 'dates',\r\n            },\r\n            {\r\n                type: 'normal',\r\n                name: 'status',\r\n                label: $localize `Status`,\r\n                search: 'select',\r\n                options: this.genral.getProcessStatus(),\r\n            },\r\n            // {\r\n            //     type: 'date',\r\n            //     name: 'receiptDate',\r\n            //     label: 'Receipt date',\r\n            //     search: 'dates',\r\n            // },\r\n            // {\r\n            //     type: 'date',\r\n            //     name: 'processDate',\r\n            //     label: 'Process date',\r\n            //     search: 'dates',\r\n            // },\r\n        ];\r\n        this.navigationSubscription = this.router.events.subscribe((e) => {\r\n            // If it is a NavigationEnd event re-initalise the component\r\n            if (e instanceof NavigationEnd) {\r\n                this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n                    if (params.get('number')) {\r\n                        this.tabIndex = +params.get('number');\r\n                    }\r\n                    else {\r\n                        this.tabIndex = 0;\r\n                    }\r\n                    this.changedAndDate(this.tabIndex);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    openDialog(event) {\r\n        const dialogRef = this.dialog.open(ProductionDetailsDialogComponent, {\r\n            width: '80%',\r\n            data: { id: event['id'], fromNew: false, type: this.type },\r\n        });\r\n        dialogRef.afterClosed().subscribe(data => {\r\n            if (data === $localize `Edit`) {\r\n                switch (this.tabIndex) {\r\n                    case 0:\r\n                        this.router.navigate(['../Cleaning', { id: event['id'], poCode: event['poCodeIds'][0] }], { relativeTo: this._Activatedroute });\r\n                        break;\r\n                    case 1:\r\n                        this.router.navigate(['../Roasting', { id: event['id'], poCode: event['poCodeIds'][0] }], { relativeTo: this._Activatedroute });\r\n                        break;\r\n                    case 2:\r\n                        this.router.navigate(['../Toffee', { id: event['id'], poCodes: event['poCodeIds'] }], { relativeTo: this._Activatedroute });\r\n                        break;\r\n                    case 3:\r\n                        this.router.navigate(['../Packing', { id: event['id'], poCodes: event['poCodeIds'], withPacked: dialogRef.componentInstance.withPacked,\r\n                                addPos: dialogRef.componentInstance.addPos }], { relativeTo: this._Activatedroute });\r\n                        break;\r\n                    case 4:\r\n                        this.router.navigate(['../QcPacking', { id: event['id'], poCodes: event['poCodeIds'],\r\n                                addPos: dialogRef.componentInstance.addPos, withCleaned: dialogRef.componentInstance.withCleaned }], { relativeTo: this._Activatedroute });\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            else if (dialogRef.componentInstance.approveChange) {\r\n                this.changedAndDate(this.tabIndex);\r\n            }\r\n        });\r\n    }\r\n    changed(event) {\r\n        this.changedAndDate(event);\r\n    }\r\n    setDateRange($event) {\r\n        this.dateRange = $event;\r\n        this.changedAndDate(this.tabIndex);\r\n    }\r\n    changedAndDate(event) {\r\n        switch (+event) {\r\n            case 0:\r\n                this.cashewSourceColumns = null;\r\n                this.localService.getAllCleaning(this.dateRange).pipe(take(1)).subscribe(value => {\r\n                    this.cashewSourceColumns = value;\r\n                });\r\n                this.type = 'Cleaning';\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 1:\r\n                this.cashewSourceColumns = null;\r\n                this.localService.getAllRoasting(this.dateRange).pipe(take(1)).subscribe(value => {\r\n                    this.cashewSourceColumns = value;\r\n                });\r\n                this.type = 'Roasting';\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 2:\r\n                this.cashewSourceColumns = null;\r\n                this.localService.getAllToffee(this.dateRange).pipe(take(1)).subscribe(value => {\r\n                    this.cashewSourceColumns = value;\r\n                });\r\n                this.type = 'Toffee';\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 3:\r\n                this.cashewSourceColumns = null;\r\n                this.localService.getAllPacking(this.dateRange).pipe(take(1)).subscribe(value => {\r\n                    this.cashewSourceColumns = value;\r\n                });\r\n                this.type = 'Packing';\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 4:\r\n                this.cashewSourceColumns = null;\r\n                this.localService.getAllQcPacking(this.dateRange).pipe(take(1)).subscribe(value => {\r\n                    this.cashewSourceColumns = value;\r\n                });\r\n                this.type = 'QC Packing';\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.genral.getItemsCashew(this.type == 'QC Packing' ? 6 : this.tabIndex).pipe(take(1)).subscribe(val => {\r\n            this.ItemsChangable1.next(val);\r\n        });\r\n        this.genral.getItemsCashew(this.type == 'QC Packing' ? 7 : this.tabIndex + 1).pipe(take(1)).subscribe(val => {\r\n            this.ItemsChangable2.next(val);\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.navigationSubscription) {\r\n            this.navigationSubscription.unsubscribe();\r\n        }\r\n        this.ItemsChangable1.unsubscribe();\r\n        this.ItemsChangable2.unsubscribe();\r\n    }\r\n}\r\nProductionsComponent.ɵfac = function ProductionsComponent_Factory(t) { return new (t || ProductionsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ProductionService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Genral), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\r\nProductionsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductionsComponent, selectors: [[\"app-productions\"]], decls: 19, vars: 4, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_8039431651275810249$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_1 = goog.getMsg(\"New Cleaning\");\r\n        i18n_0 = MSG_EXTERNAL_8039431651275810249$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟82527bd5dee89230e838aa167153ad0442665843␟8039431651275810249:New Cleaning`;\r\n    } let i18n_2; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_4350215710352528988$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_3 = goog.getMsg(\"New Roasting\");\r\n        i18n_2 = MSG_EXTERNAL_4350215710352528988$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_3;\r\n    }\r\n    else {\r\n        i18n_2 = $localize `:␟6b0925226e5743436dd22e249e1ef3432cb70876␟4350215710352528988:New Roasting`;\r\n    } let i18n_4; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1910628823933653984$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_5 = goog.getMsg(\"New Toffee\");\r\n        i18n_4 = MSG_EXTERNAL_1910628823933653984$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_5;\r\n    }\r\n    else {\r\n        i18n_4 = $localize `:␟ffb37e54c406b3bc7e01250c918189824f245941␟1910628823933653984:New Toffee`;\r\n    } let i18n_6; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_7556758000928587510$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_7 = goog.getMsg(\"New Packing\");\r\n        i18n_6 = MSG_EXTERNAL_7556758000928587510$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_7;\r\n    }\r\n    else {\r\n        i18n_6 = $localize `:␟4bfa4e2758abfceae7b1a737b9c3564ae4a8f9db␟7556758000928587510:New Packing`;\r\n    } let i18n_8; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_8305580719619592292$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_9 = goog.getMsg(\"Productions reports\");\r\n        i18n_8 = MSG_EXTERNAL_8305580719619592292$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_9;\r\n    }\r\n    else {\r\n        i18n_8 = $localize `:␟e8f15c402cd50e30a3a2de9c270b2ebd53951a1d␟8305580719619592292:Productions reports`;\r\n    } let i18n_10; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_3660191305615074742$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_11 = goog.getMsg(\"Cleaning\");\r\n        i18n_10 = MSG_EXTERNAL_3660191305615074742$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_11;\r\n    }\r\n    else {\r\n        i18n_10 = $localize `:␟87946a6c6a655cae8318c08ac79d4e66c6c0340c␟3660191305615074742:Cleaning`;\r\n    } let i18n_12; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1606488635252333001$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_13 = goog.getMsg(\"Roasting\");\r\n        i18n_12 = MSG_EXTERNAL_1606488635252333001$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_13;\r\n    }\r\n    else {\r\n        i18n_12 = $localize `:␟a7b10971646c729aa674ee4d833ee23a316a1df7␟1606488635252333001:Roasting`;\r\n    } let i18n_14; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_633131057588081991$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_15 = goog.getMsg(\"Toffee\");\r\n        i18n_14 = MSG_EXTERNAL_633131057588081991$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_15;\r\n    }\r\n    else {\r\n        i18n_14 = $localize `:␟c4626c6ef56eca52fcb9c6d10b9dedc2fac0a5b7␟633131057588081991:Toffee`;\r\n    } let i18n_16; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1618768293610791435$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_17 = goog.getMsg(\"Packing\");\r\n        i18n_16 = MSG_EXTERNAL_1618768293610791435$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_17;\r\n    }\r\n    else {\r\n        i18n_16 = $localize `:␟10f77a30909f600e782f5a14374e9658abda397c␟1618768293610791435:Packing`;\r\n    } let i18n_18; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_5601419385934187808$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_19 = goog.getMsg(\"QC Packing\");\r\n        i18n_18 = MSG_EXTERNAL_5601419385934187808$$SRC_APP_PRODUCTION_PRODUCTIONS_COMPONENT_TS_19;\r\n    }\r\n    else {\r\n        i18n_18 = $localize `:␟4996e63e18c607b2622ca9055f5e33531554fa1a␟5601419385934187808:QC Packing`;\r\n    } return [[1, \"centerButtons\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Cleaning\"], i18n_0, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Roasting\"], i18n_2, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Toffee\"], i18n_4, [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"../Packing\"], i18n_6, [2, \"text-align\", \"center\"], i18n_8, [3, \"submitRange\"], [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_10], [\"label\", i18n_12], [\"label\", i18n_14], [\"label\", i18n_16], [\"label\", i18n_18], [3, \"mainColumns\", \"detailsSource\", \"totelColumn\", \"details\"]]; }, template: function ProductionsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"button\", 1);\r\n        i0.ɵɵi18n(2, 2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 3);\r\n        i0.ɵɵi18n(4, 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"button\", 5);\r\n        i0.ɵɵi18n(6, 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"button\", 7);\r\n        i0.ɵɵi18n(8, 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"h1\", 9);\r\n        i0.ɵɵi18n(10, 10);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"date-range-select\", 11);\r\n        i0.ɵɵlistener(\"submitRange\", function ProductionsComponent_Template_date_range_select_submitRange_11_listener($event) { return ctx.setDateRange($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"mat-tab-group\", 12);\r\n        i0.ɵɵlistener(\"selectedIndexChange\", function ProductionsComponent_Template_mat_tab_group_selectedIndexChange_12_listener($event) { return ctx.tabIndex = $event; })(\"selectedIndexChange\", function ProductionsComponent_Template_mat_tab_group_selectedIndexChange_12_listener($event) { return ctx.changed($event); });\r\n        i0.ɵɵelement(13, \"mat-tab\", 13);\r\n        i0.ɵɵelement(14, \"mat-tab\", 14);\r\n        i0.ɵɵelement(15, \"mat-tab\", 15);\r\n        i0.ɵɵelement(16, \"mat-tab\", 16);\r\n        i0.ɵɵelement(17, \"mat-tab\", 17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"search-group-details\", 18);\r\n        i0.ɵɵlistener(\"details\", function ProductionsComponent_Template_search_group_details_details_18_listener($event) { return ctx.openDialog($event); });\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.cashewSourceColumns)(\"totelColumn\", ctx.totelColumn);\r\n    } }, directives: [i5.MatButton, i1.RouterLink, i6.DateRangeSelect, i7.MatTabGroup, i7.MatTab, i8.SearchGroupDetailsComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}