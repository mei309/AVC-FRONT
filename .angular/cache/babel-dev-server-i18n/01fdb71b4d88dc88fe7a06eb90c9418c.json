{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"./inventory.service\";\nimport * as i3 from \"../genral.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/tabs\";\nimport * as i6 from \"../tables/search-group-details.component\";\nexport class GenralInventoryComponent {\n  // totelAll: OneColumn = {\n  //   type: 'weight2',\n  //   name: 'totalBalance',\n  //   label: $localize`Total all`,\n  // };[totelAll]=\"totelAll\"\n  constructor(dialog, localService, genral, _Activatedroute, cdRef, router) {\n    this.dialog = dialog;\n    this.localService = localService;\n    this.genral = genral;\n    this._Activatedroute = _Activatedroute;\n    this.cdRef = cdRef;\n    this.router = router;\n    this.dateRangeDisp = {\n      begin: new Date(2020, 7, 5),\n      end: new Date(2020, 7, 25)\n    };\n    this.tabIndex = 0;\n  }\n\n  ngOnInit() {\n    this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n      if (params.get('number')) {\n        this.tabIndex = +params.get('number');\n        this.changed(+params.get('number'));\n      } else {\n        this.changed(0);\n      }\n    });\n\n    this.navigationSubscription = this.router.events.subscribe(e => {\n      // If it is a NavigationEnd event re-initalise the component\n      if (e instanceof NavigationEnd) {\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n          if (params.get('number')) {\n            this.tabIndex = +params.get('number');\n          } else {\n            this.tabIndex = 0;\n          }\n\n          this.changed(this.tabIndex);\n        });\n      }\n    });\n  } // openDialog(event): void {\n  //   const dialogRef = this.dialog.open(InventoryDetailsDialogComponent, {\n  //     width: '80%',\n  //     data: {id: event['id'], fromNew: false, type: $localize`Inventory item`},\n  //   });\n  //   dialogRef.afterClosed().subscribe(data => {\n  //     if (data === 'Edit') {\n  //         switch (this.tabIndex) {\n  //             default:\n  //                 break;\n  //         }\n  //     }\n  //   });\n  // }\n\n\n  changed(event) {\n    switch (+event) {\n      case 0:\n        this.generalSourceColumns = null;\n        this.columnsShow = [{\n          type: 'nameId',\n          name: 'item',\n          label: \"Item\",\n          search: 'selectObjObj',\n          options: this.genral.getItemsGeneral(),\n          group: 'item'\n        }, {\n          type: 'weight2',\n          name: 'totalStock',\n          label: \"Total stock\",\n          search: 'objArray',\n          group: 'item'\n        }, {\n          type: 'nameId',\n          name: 'poCode',\n          label: \"PO#\",\n          search: 'object',\n          group: 'poCode'\n        }, {\n          name: 'supplierName',\n          label: \"Supplier\",\n          search: 'selectObj',\n          options: this.genral.getSuppliersGeneral(),\n          group: 'poCode'\n        }, {\n          type: 'weight2',\n          name: \"totalBalance\",\n          label: 'Total balance',\n          search: 'objArray' // group: 'poCode',\n\n        }, {\n          type: 'arrayVal',\n          name: 'warehouses',\n          label: \"Warehouse\",\n          search: 'selectObjArr',\n          options: this.genral.getWearhouses()\n        }, {\n          type: 'date',\n          name: 'receiptDate',\n          label: \"Receipt date\",\n          search: 'dates'\n        }, {\n          name: 'poInventoryRows',\n          type: 'kidArray'\n        }];\n        this.localService.getGeneralInventoryItem().pipe(take(1)).subscribe(value => {\n          this.generalSourceColumns = value;\n        });\n        this.cdRef.detectChanges();\n        break;\n\n      case 1:\n        this.generalSourceColumns = null;\n        this.columnsShow = [{\n          type: 'nameId',\n          name: 'poCode',\n          label: \"PO#\",\n          search: 'object',\n          group: 'poCode'\n        }, {\n          name: 'supplierName',\n          label: \"Supplier\",\n          search: 'selectObj',\n          options: this.genral.getSuppliersGeneral(),\n          group: 'poCode'\n        }, // {\n        //   type: 'weight2',\n        //   name: 'totalStock',\n        //   label: 'Total stock',\n        //   search: 'object',\n        //   group: 'poCode',\n        // },\n        {\n          type: 'nameId',\n          name: 'item',\n          label: \"Item\",\n          search: 'selectObjObj',\n          options: this.genral.getItemsGeneral(),\n          group: 'item'\n        }, {\n          type: 'weight2',\n          name: 'totalBalance',\n          label: \"Total balance\",\n          search: 'objArray' // group: 'item',\n\n        }, {\n          type: 'arrayVal',\n          name: 'warehouses',\n          label: \"Warehouse\",\n          search: 'selectObjArr',\n          options: this.genral.getWearhouses()\n        }, {\n          type: 'date',\n          name: 'receiptDate',\n          label: \"Receipt date\",\n          search: 'dates'\n        }, {\n          name: 'poInventoryRows',\n          type: 'kidArray'\n        }];\n        this.localService.getGeneralInventoryByPo().pipe(take(1)).subscribe(value => {\n          this.generalSourceColumns = value;\n        });\n        this.cdRef.detectChanges();\n        break;\n\n      case 2:\n        this.generalSourceColumns = null;\n        this.columnsShow = [{\n          type: 'nameId',\n          name: 'item',\n          label: \"Item\",\n          search: 'selectObjObj',\n          options: this.genral.getItemsGeneral(),\n          group: 'item'\n        }, {\n          type: 'decimalNumber',\n          name: 'inventoryAmountNumber',\n          label: \"Inventory amount\",\n          search: 'normal'\n        }, {\n          type: 'normal',\n          name: 'inventoryAmountUnit',\n          label: \"Inventory unit\",\n          search: 'select',\n          options: this.genral.getMeasureUnit()\n        }, {\n          type: 'decimalNumber',\n          name: 'orderedAmountNumber',\n          label: \"Orderd amount\",\n          search: 'normal'\n        }, {\n          type: 'normal',\n          name: 'orderedAmountUnit',\n          label: \"Orderd unit\",\n          search: 'select',\n          options: this.genral.getMeasureUnit()\n        }];\n        this.localService.getGeneralInventoryOrder().pipe(take(1)).subscribe(value => {\n          this.generalSourceColumns = value;\n        });\n        this.cdRef.detectChanges();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.navigationSubscription) {\n      this.navigationSubscription.unsubscribe();\n    }\n  }\n\n}\n\nGenralInventoryComponent.ɵfac = function GenralInventoryComponent_Factory(t) {\n  return new (t || GenralInventoryComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.InventoryService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.Router));\n};\n\nGenralInventoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GenralInventoryComponent,\n  selectors: [[\"app-genral-inventory\"]],\n  decls: 7,\n  vars: 4,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1290343448027699398$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_1 = goog.getMsg(\"General inventory\");\n      i18n_0 = MSG_EXTERNAL_1290343448027699398$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"General inventory\";\n    }\n\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_2351563233301891427$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_3 = goog.getMsg(\"General stock by item\");\n      i18n_2 = MSG_EXTERNAL_2351563233301891427$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_3;\n    } else {\n      i18n_2 = \"General stock by item\";\n    }\n\n    let i18n_4;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_2031929864610438242$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_5 = goog.getMsg(\"General stock by PO#\");\n      i18n_4 = MSG_EXTERNAL_2031929864610438242$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_5;\n    } else {\n      i18n_4 = \"General stock by PO#\";\n    }\n\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_7665635126253763967$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_7 = goog.getMsg(\"General stock and orders\");\n      i18n_6 = MSG_EXTERNAL_7665635126253763967$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_7;\n    } else {\n      i18n_6 = \"General stock and orders\";\n    }\n\n    return [[2, \"text-align\", \"center\"], i18n_0, [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_2], [\"label\", i18n_4], [\"label\", i18n_6], [3, \"mainColumns\", \"detailsSource\", \"withPaginator\"]];\n  },\n  template: function GenralInventoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵi18n(1, 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"mat-tab-group\", 2);\n      i0.ɵɵlistener(\"selectedIndexChange\", function GenralInventoryComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) {\n        return ctx.tabIndex = $event;\n      })(\"selectedIndexChange\", function GenralInventoryComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) {\n        return ctx.changed($event);\n      });\n      i0.ɵɵelement(3, \"mat-tab\", 3);\n      i0.ɵɵelement(4, \"mat-tab\", 4);\n      i0.ɵɵelement(5, \"mat-tab\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"search-group-details\", 6);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.generalSourceColumns)(\"withPaginator\", false);\n    }\n  },\n  directives: [i5.MatTabGroup, i5.MatTab, i6.SearchGroupDetailsComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/inventory/genral-inventory.component.ts"],"names":["NavigationEnd","take","i0","i1","i2","i3","i4","i5","i6","GenralInventoryComponent","constructor","dialog","localService","genral","_Activatedroute","cdRef","router","dateRangeDisp","begin","Date","end","tabIndex","ngOnInit","paramMap","pipe","subscribe","params","get","changed","navigationSubscription","events","e","event","generalSourceColumns","columnsShow","type","name","label","search","options","getItemsGeneral","group","getSuppliersGeneral","getWearhouses","getGeneralInventoryItem","value","detectChanges","getGeneralInventoryByPo","getMeasureUnit","getGeneralInventoryOrder","ngOnDestroy","unsubscribe","ɵfac","GenralInventoryComponent_Factory","t","ɵɵdirectiveInject","MatDialog","InventoryService","Genral","ActivatedRoute","ChangeDetectorRef","Router","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_1290343448027699398$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_1","goog","getMsg","i18n_2","MSG_EXTERNAL_2351563233301891427$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_3","i18n_4","MSG_EXTERNAL_2031929864610438242$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_5","i18n_6","MSG_EXTERNAL_7665635126253763967$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_7","template","GenralInventoryComponent_Template","rf","ctx","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","ɵɵlistener","GenralInventoryComponent_Template_mat_tab_group_selectedIndexChange_2_listener","$event","ɵɵelement","ɵɵadvance","ɵɵproperty","directives","MatTabGroup","MatTab","SearchGroupDetailsComponent","encapsulation"],"mappings":"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","sourcesContent":["import { NavigationEnd } from '@angular/router';\r\nimport { take } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"./inventory.service\";\r\nimport * as i3 from \"../genral.service\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/material/tabs\";\r\nimport * as i6 from \"../tables/search-group-details.component\";\r\nexport class GenralInventoryComponent {\r\n    // totelAll: OneColumn = {\r\n    //   type: 'weight2',\r\n    //   name: 'totalBalance',\r\n    //   label: $localize`Total all`,\r\n    // };[totelAll]=\"totelAll\"\r\n    constructor(dialog, localService, genral, _Activatedroute, cdRef, router) {\r\n        this.dialog = dialog;\r\n        this.localService = localService;\r\n        this.genral = genral;\r\n        this._Activatedroute = _Activatedroute;\r\n        this.cdRef = cdRef;\r\n        this.router = router;\r\n        this.dateRangeDisp = { begin: new Date(2020, 7, 5), end: new Date(2020, 7, 25) };\r\n        this.tabIndex = 0;\r\n    }\r\n    ngOnInit() {\r\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n            if (params.get('number')) {\r\n                this.tabIndex = +params.get('number');\r\n                this.changed(+params.get('number'));\r\n            }\r\n            else {\r\n                this.changed(0);\r\n            }\r\n        });\r\n        this.navigationSubscription = this.router.events.subscribe((e) => {\r\n            // If it is a NavigationEnd event re-initalise the component\r\n            if (e instanceof NavigationEnd) {\r\n                this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n                    if (params.get('number')) {\r\n                        this.tabIndex = +params.get('number');\r\n                    }\r\n                    else {\r\n                        this.tabIndex = 0;\r\n                    }\r\n                    this.changed(this.tabIndex);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    // openDialog(event): void {\r\n    //   const dialogRef = this.dialog.open(InventoryDetailsDialogComponent, {\r\n    //     width: '80%',\r\n    //     data: {id: event['id'], fromNew: false, type: $localize`Inventory item`},\r\n    //   });\r\n    //   dialogRef.afterClosed().subscribe(data => {\r\n    //     if (data === 'Edit') {\r\n    //         switch (this.tabIndex) {\r\n    //             default:\r\n    //                 break;\r\n    //         }\r\n    //     }\r\n    //   });\r\n    // }\r\n    changed(event) {\r\n        switch (+event) {\r\n            case 0:\r\n                this.generalSourceColumns = null;\r\n                this.columnsShow = [\r\n                    {\r\n                        type: 'nameId',\r\n                        name: 'item',\r\n                        label: $localize `Item`,\r\n                        search: 'selectObjObj',\r\n                        options: this.genral.getItemsGeneral(),\r\n                        group: 'item',\r\n                    },\r\n                    {\r\n                        type: 'weight2',\r\n                        name: 'totalStock',\r\n                        label: $localize `Total stock`,\r\n                        search: 'objArray',\r\n                        group: 'item',\r\n                    },\r\n                    {\r\n                        type: 'nameId',\r\n                        name: 'poCode',\r\n                        label: $localize `PO#`,\r\n                        search: 'object',\r\n                        group: 'poCode',\r\n                    },\r\n                    {\r\n                        name: 'supplierName',\r\n                        label: $localize `Supplier`,\r\n                        search: 'selectObj',\r\n                        options: this.genral.getSuppliersGeneral(),\r\n                        group: 'poCode',\r\n                    },\r\n                    {\r\n                        type: 'weight2',\r\n                        name: $localize `totalBalance`,\r\n                        label: 'Total balance',\r\n                        search: 'objArray',\r\n                        // group: 'poCode',\r\n                    },\r\n                    {\r\n                        type: 'arrayVal',\r\n                        name: 'warehouses',\r\n                        label: $localize `Warehouse`,\r\n                        search: 'selectObjArr',\r\n                        options: this.genral.getWearhouses(),\r\n                    },\r\n                    {\r\n                        type: 'date',\r\n                        name: 'receiptDate',\r\n                        label: $localize `Receipt date`,\r\n                        search: 'dates',\r\n                    },\r\n                    {\r\n                        name: 'poInventoryRows',\r\n                        type: 'kidArray',\r\n                    },\r\n                ];\r\n                this.localService.getGeneralInventoryItem().pipe(take(1)).subscribe(value => {\r\n                    this.generalSourceColumns = value;\r\n                });\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 1:\r\n                this.generalSourceColumns = null;\r\n                this.columnsShow = [\r\n                    {\r\n                        type: 'nameId',\r\n                        name: 'poCode',\r\n                        label: $localize `PO#`,\r\n                        search: 'object',\r\n                        group: 'poCode',\r\n                    },\r\n                    {\r\n                        name: 'supplierName',\r\n                        label: $localize `Supplier`,\r\n                        search: 'selectObj',\r\n                        options: this.genral.getSuppliersGeneral(),\r\n                        group: 'poCode',\r\n                    },\r\n                    // {\r\n                    //   type: 'weight2',\r\n                    //   name: 'totalStock',\r\n                    //   label: 'Total stock',\r\n                    //   search: 'object',\r\n                    //   group: 'poCode',\r\n                    // },\r\n                    {\r\n                        type: 'nameId',\r\n                        name: 'item',\r\n                        label: $localize `Item`,\r\n                        search: 'selectObjObj',\r\n                        options: this.genral.getItemsGeneral(),\r\n                        group: 'item',\r\n                    },\r\n                    {\r\n                        type: 'weight2',\r\n                        name: 'totalBalance',\r\n                        label: $localize `Total balance`,\r\n                        search: 'objArray',\r\n                        // group: 'item',\r\n                    },\r\n                    {\r\n                        type: 'arrayVal',\r\n                        name: 'warehouses',\r\n                        label: $localize `Warehouse`,\r\n                        search: 'selectObjArr',\r\n                        options: this.genral.getWearhouses(),\r\n                    },\r\n                    {\r\n                        type: 'date',\r\n                        name: 'receiptDate',\r\n                        label: $localize `Receipt date`,\r\n                        search: 'dates',\r\n                    },\r\n                    {\r\n                        name: 'poInventoryRows',\r\n                        type: 'kidArray',\r\n                    }\r\n                ];\r\n                this.localService.getGeneralInventoryByPo().pipe(take(1)).subscribe(value => {\r\n                    this.generalSourceColumns = value;\r\n                });\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 2:\r\n                this.generalSourceColumns = null;\r\n                this.columnsShow = [\r\n                    {\r\n                        type: 'nameId',\r\n                        name: 'item',\r\n                        label: $localize `Item`,\r\n                        search: 'selectObjObj',\r\n                        options: this.genral.getItemsGeneral(),\r\n                        group: 'item',\r\n                    },\r\n                    {\r\n                        type: 'decimalNumber',\r\n                        name: 'inventoryAmountNumber',\r\n                        label: $localize `Inventory amount`,\r\n                        search: 'normal',\r\n                    },\r\n                    {\r\n                        type: 'normal',\r\n                        name: 'inventoryAmountUnit',\r\n                        label: $localize `Inventory unit`,\r\n                        search: 'select',\r\n                        options: this.genral.getMeasureUnit(),\r\n                    },\r\n                    {\r\n                        type: 'decimalNumber',\r\n                        name: 'orderedAmountNumber',\r\n                        label: $localize `Orderd amount`,\r\n                        search: 'normal',\r\n                    },\r\n                    {\r\n                        type: 'normal',\r\n                        name: 'orderedAmountUnit',\r\n                        label: $localize `Orderd unit`,\r\n                        search: 'select',\r\n                        options: this.genral.getMeasureUnit(),\r\n                    },\r\n                ];\r\n                this.localService.getGeneralInventoryOrder().pipe(take(1)).subscribe(value => {\r\n                    this.generalSourceColumns = value;\r\n                });\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.navigationSubscription) {\r\n            this.navigationSubscription.unsubscribe();\r\n        }\r\n    }\r\n}\r\nGenralInventoryComponent.ɵfac = function GenralInventoryComponent_Factory(t) { return new (t || GenralInventoryComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.InventoryService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.Router)); };\r\nGenralInventoryComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: GenralInventoryComponent, selectors: [[\"app-genral-inventory\"]], decls: 7, vars: 4, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1290343448027699398$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_1 = goog.getMsg(\"General inventory\");\r\n        i18n_0 = MSG_EXTERNAL_1290343448027699398$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟a2a9307148682bbc8263fb62c6288c45cc060699␟1290343448027699398:General inventory`;\r\n    } let i18n_2; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_2351563233301891427$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_3 = goog.getMsg(\"General stock by item\");\r\n        i18n_2 = MSG_EXTERNAL_2351563233301891427$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_3;\r\n    }\r\n    else {\r\n        i18n_2 = $localize `:␟140d79c99b76099928020aaece3ecdca0fa3395e␟2351563233301891427:General stock by item`;\r\n    } let i18n_4; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_2031929864610438242$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_5 = goog.getMsg(\"General stock by PO#\");\r\n        i18n_4 = MSG_EXTERNAL_2031929864610438242$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_5;\r\n    }\r\n    else {\r\n        i18n_4 = $localize `:␟219e51d2e36c06c8f26919af31eafb181b3c9356␟2031929864610438242:General stock by PO#`;\r\n    } let i18n_6; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_7665635126253763967$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_7 = goog.getMsg(\"General stock and orders\");\r\n        i18n_6 = MSG_EXTERNAL_7665635126253763967$$SRC_APP_INVENTORY_GENRAL_INVENTORY_COMPONENT_TS_7;\r\n    }\r\n    else {\r\n        i18n_6 = $localize `:␟1acafafa6fa0e6d9925ec6d43d0f64a921f6cb3d␟7665635126253763967:General stock and orders`;\r\n    } return [[2, \"text-align\", \"center\"], i18n_0, [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_2], [\"label\", i18n_4], [\"label\", i18n_6], [3, \"mainColumns\", \"detailsSource\", \"withPaginator\"]]; }, template: function GenralInventoryComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h1\", 0);\r\n        i0.ɵɵi18n(1, 1);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"mat-tab-group\", 2);\r\n        i0.ɵɵlistener(\"selectedIndexChange\", function GenralInventoryComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) { return ctx.tabIndex = $event; })(\"selectedIndexChange\", function GenralInventoryComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) { return ctx.changed($event); });\r\n        i0.ɵɵelement(3, \"mat-tab\", 3);\r\n        i0.ɵɵelement(4, \"mat-tab\", 4);\r\n        i0.ɵɵelement(5, \"mat-tab\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(6, \"search-group-details\", 6);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.generalSourceColumns)(\"withPaginator\", false);\r\n    } }, directives: [i5.MatTabGroup, i5.MatTab, i6.SearchGroupDetailsComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}