{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./service/authenticate.service\";\nimport * as i3 from \"@angular/service-worker\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./components/dynamic-form/dynamic-form.component\";\n\nconst _c2 = function () {\n  return {\n    \"width\": \"fit-content\",\n    \"margin\": \"auto\"\n  };\n};\n\nexport class LoginComponent {\n  constructor(router, genralService, updates) {\n    this.router = router;\n    this.genralService = genralService;\n    this.regConfig = [{\n      type: 'input',\n      name: 'name',\n      label: \"Name\",\n      validations: [{\n        name: 'required',\n        validator: Validators.required,\n        message: \"Name Required\"\n      } // {\n      //   name: 'pattern',\n      //   validator: Validators.pattern('^[a-zA-Z ]+$'),\n      //   message: 'Accept only text'\n      // }\n      ]\n    }, {\n      type: 'input',\n      name: 'password',\n      label: \"Password\",\n      inputType: 'password',\n      validations: [{\n        name: 'required',\n        validator: Validators.required,\n        message: \"Password Required\"\n      }]\n    }, {\n      type: 'button',\n      label: \"Login\",\n      name: 'submit'\n    }];\n    updates.available.pipe(take(1)).subscribe(event => {\n      console.log(event); // if (promptUser(event)) {\n\n      updates.activateUpdate().then(() => document.location.reload()); // }\n    });\n  }\n\n  ngOnInit() {\n    if (this.genralService.isLoggedIn) {\n      this.router.navigateByUrl('Main');\n    }\n  }\n\n  doLogin(value) {\n    if (value['name'] && value['password']) {\n      this.genralService.authenticate(value['name'], value['password']).pipe(take(1)).subscribe(result => {\n        this.router.navigate(['/Main']);\n      }, () => {// alert('Either invalid credentials or something went wrong');\n      });\n    }\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticateService), i0.ɵɵdirectiveInject(i3.SwUpdate));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 4,\n  vars: 3,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_9216296136044355574$$SRC_APP_LOGIN_COMPONENT_TS_1 = goog.getMsg(\"Login Form\");\n      i18n_0 = MSG_EXTERNAL_9216296136044355574$$SRC_APP_LOGIN_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"Login Form\";\n    }\n\n    return [[2, \"color\", \"LightGray\"], [3, \"ngStyle\"], [\"mainLabel\", i18n_0, 3, \"fields\", \"submitForm\"]];\n  },\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"span\", 0);\n      i0.ɵɵtext(1, \"version 9.5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"dynamic-form\", 2);\n      i0.ɵɵlistener(\"submitForm\", function LoginComponent_Template_dynamic_form_submitForm_3_listener($event) {\n        return ctx.doLogin($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(2, _c2));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"fields\", ctx.regConfig);\n    }\n  },\n  directives: [i4.NgStyle, i5.DynamicFormComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/Login.component.ts"],"names":["Validators","take","i0","i1","i2","i3","i4","i5","_c2","LoginComponent","constructor","router","genralService","updates","regConfig","type","name","label","validations","validator","required","message","inputType","available","pipe","subscribe","event","console","log","activateUpdate","then","document","location","reload","ngOnInit","isLoggedIn","navigateByUrl","doLogin","value","authenticate","result","navigate","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","Router","AuthenticateService","SwUpdate","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_9216296136044355574$$SRC_APP_LOGIN_COMPONENT_TS_1","goog","getMsg","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_dynamic_form_submitForm_3_listener","$event","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","directives","NgStyle","DynamicFormComponent","encapsulation"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\r\nimport { take } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"./service/authenticate.service\";\r\nimport * as i3 from \"@angular/service-worker\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"./components/dynamic-form/dynamic-form.component\";\r\nconst _c2 = function () { return { \"width\": \"fit-content\", \"margin\": \"auto\" }; };\r\nexport class LoginComponent {\r\n    constructor(router, genralService, updates) {\r\n        this.router = router;\r\n        this.genralService = genralService;\r\n        this.regConfig = [\r\n            {\r\n                type: 'input',\r\n                name: 'name',\r\n                label: $localize `Name`,\r\n                validations: [\r\n                    {\r\n                        name: 'required',\r\n                        validator: Validators.required,\r\n                        message: $localize `Name Required`\r\n                    },\r\n                    // {\r\n                    //   name: 'pattern',\r\n                    //   validator: Validators.pattern('^[a-zA-Z ]+$'),\r\n                    //   message: 'Accept only text'\r\n                    // }\r\n                ]\r\n            },\r\n            {\r\n                type: 'input',\r\n                name: 'password',\r\n                label: $localize `Password`,\r\n                inputType: 'password',\r\n                validations: [\r\n                    {\r\n                        name: 'required',\r\n                        validator: Validators.required,\r\n                        message: $localize `Password Required`\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: 'button',\r\n                label: $localize `Login`,\r\n                name: 'submit'\r\n            }\r\n        ];\r\n        updates.available.pipe(take(1)).subscribe(event => {\r\n            console.log(event);\r\n            // if (promptUser(event)) {\r\n            updates.activateUpdate().then(() => document.location.reload());\r\n            // }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        if (this.genralService.isLoggedIn) {\r\n            this.router.navigateByUrl('Main');\r\n        }\r\n    }\r\n    doLogin(value) {\r\n        if (value['name'] && value['password']) {\r\n            this.genralService.authenticate(value['name'], value['password']).pipe(take(1)).subscribe((result) => {\r\n                this.router.navigate(['/Main']);\r\n            }, () => {\r\n                // alert('Either invalid credentials or something went wrong');\r\n            });\r\n        }\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticateService), i0.ɵɵdirectiveInject(i3.SwUpdate)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 4, vars: 3, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_9216296136044355574$$SRC_APP_LOGIN_COMPONENT_TS_1 = goog.getMsg(\"Login Form\");\r\n        i18n_0 = MSG_EXTERNAL_9216296136044355574$$SRC_APP_LOGIN_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟e39c128783d3363288966266f478a9523e364564␟9216296136044355574:Login Form`;\r\n    } return [[2, \"color\", \"LightGray\"], [3, \"ngStyle\"], [\"mainLabel\", i18n_0, 3, \"fields\", \"submitForm\"]]; }, template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"span\", 0);\r\n        i0.ɵɵtext(1, \"version 9.5\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"div\", 1);\r\n        i0.ɵɵelementStart(3, \"dynamic-form\", 2);\r\n        i0.ɵɵlistener(\"submitForm\", function LoginComponent_Template_dynamic_form_submitForm_3_listener($event) { return ctx.doLogin($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(2, _c2));\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"fields\", ctx.regConfig);\r\n    } }, directives: [i4.NgStyle, i5.DynamicFormComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}