{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { ReplaySubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"./reports.service\";\nimport * as i3 from \"../genral.service\";\nimport * as i4 from \"../tables/date-range-select.component\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/core\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"../tables/search-group-details.component\";\nimport * as i11 from \"./sum-qc-table.component\";\nimport * as i12 from \"../service/table-cell.pipe\";\n\nfunction QcsTotalsComponent_mat_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const sup_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", sup_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sup_r2.value);\n  }\n}\n\nfunction QcsTotalsComponent_ng_container_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2, \"Supplier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"tableCellPipe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(5, 1, ctx_r3.supplier.value, \"nameId\", null));\n  }\n}\n\nconst _c14 = function () {\n  return [\"supplier\", \"receivedItem\"];\n};\n\nconst _c15 = function (a0, a1) {\n  return [a0, a1, \"rawDefectsAndDamage\"];\n};\n\nconst _c16 = function (a0, a1) {\n  return [a0, a1, \"roastDefectsAndDamage\"];\n};\n\nconst _c17 = function (a0, a1) {\n  return [a0, a1, \"loss\"];\n};\n\nconst _c18 = function (a0, a1) {\n  return [a0, a1, \"badQuality\"];\n};\n\nconst _c19 = function (a0, a1) {\n  return [a0, a1, \"waste\"];\n};\n\nfunction QcsTotalsComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, QcsTotalsComponent_ng_container_11_div_1_Template, 6, 5, \"div\", 10);\n    i0.ɵɵelementStart(2, \"search-group-details\", 11);\n    i0.ɵɵlistener(\"filteredInfo\", function QcsTotalsComponent_ng_container_11_Template_search_group_details_filteredInfo_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.filteredSums($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"sums-qc-table\", 12);\n    i0.ɵɵelement(4, \"sums-qc-table\", 13);\n    i0.ɵɵelement(5, \"sums-qc-table\", 14);\n    i0.ɵɵelement(6, \"sums-qc-table\", 15);\n    i0.ɵɵelement(7, \"sums-qc-table\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.supplier.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainColumns\", ctx_r1.columnsShow)(\"detailsSource\", ctx_r1.qcSource)(\"listTotals\", true)(\"withPaginator\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(11, _c15, ctx_r1.sumsSource, i0.ɵɵpureFunction0(10, _c14)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(15, _c16, ctx_r1.sumsSource, i0.ɵɵpureFunction0(14, _c14)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(19, _c17, ctx_r1.sumsSource, i0.ɵɵpureFunction0(18, _c14)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(23, _c18, ctx_r1.sumsSource, i0.ɵɵpureFunction0(22, _c14)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(27, _c19, ctx_r1.sumsSource, i0.ɵɵpureFunction0(26, _c14)));\n  }\n}\n\nexport class QcsTotalsComponent {\n  constructor(dialog, localService, genral, cdRef) {\n    this.dialog = dialog;\n    this.localService = localService;\n    this.genral = genral;\n    this.cdRef = cdRef;\n    this.suppliers = new ReplaySubject();\n    this.supplier = new FormControl(null);\n    this.isDataAvailable = false;\n  }\n\n  ngOnInit() {\n    this.genral.getSuppliersCashew().pipe(take(1)).subscribe(val => {\n      this.suppliers.next(val);\n    });\n    this.columnsShow = [// {\n    //   name: 'id',\n    //   titel: 'id',\n    //   type: 'idGroup',\n    // },\n    {\n      name: 'supplier',\n      label: \"Supplier\",\n      search: 'selectObj',\n      options: this.genral.getSuppliersCashew(),\n      group: 'supplier'\n    }, {\n      type: 'normal',\n      name: 'receivedItem',\n      label: \"Product descrption\",\n      search: 'selectObj',\n      options: this.genral.getItemsCashew('RawCleanRoast'),\n      group: 'receivedItem'\n    }, {\n      type: 'normal',\n      name: 'poCode',\n      label: \"PO#\" // search: 'object',\n      // group: 'poCode',\n\n    }, // {\n    //   type: 'percentNormal',\n    //   name: 'rawDamage',\n    //   label: $localize`Total raw damage`,\n    //   search: 'percentage',\n    // },\n    // {\n    //   type: 'percentNormal',\n    //   name: 'rawDefects',\n    //   label: $localize`Total raw defects`,\n    //   search: 'percentage',\n    // },\n    {\n      type: 'percentNormal',\n      name: 'rawDefectsAndDamage',\n      label: \"Raw defects + damage\",\n      search: 'percentage'\n    }, {\n      type: 'percentNormal',\n      name: 'roastDefectsAndDamage',\n      label: \"Roast defects + damage\",\n      search: 'percentage'\n    }, {\n      type: 'percent',\n      name: 'loss',\n      label: \"Loss\",\n      search: 'percentage'\n    }, {\n      type: 'weight',\n      name: 'badQuality',\n      label: \"QC\",\n      search: 'object'\n    }, {\n      type: 'weight',\n      name: 'waste',\n      label: \"Waste\",\n      search: 'object'\n    }, // {\n    //   type: 'percentNormal',\n    //   name: 'roastDamage',\n    //   label: $localize`Total roast damage`,\n    //   search: 'percentage',\n    // },\n    // {\n    //   type: 'percentNormal',\n    //   name: 'roastDefects',\n    //   label: $localize`Total roast defects`,\n    //   search: 'percentage',\n    // },\n    {\n      type: 'dateTime',\n      name: 'receiptTime',\n      label: \"Receiving date\",\n      search: 'dates'\n    }];\n  }\n\n  getAllByDate($event) {\n    this.dateRange = $event;\n    this.isDataAvailable = true;\n    this.qcSource = null;\n    this.localService.sumQcBySupplier(this.supplier.value ? this.supplier.value.id : null, $event).pipe(take(1)).subscribe(value => {\n      this.qcSource = value;\n    });\n    this.cdRef.detectChanges();\n  }\n\n  applySupplier($event) {\n    this.isDataAvailable = true;\n    this.qcSource = null;\n    this.localService.sumQcBySupplier($event.id, this.dateRange).pipe(take(1)).subscribe(value => {\n      this.qcSource = value;\n    });\n    this.cdRef.detectChanges();\n  }\n\n  filteredSums($event) {\n    this.sumsSource = $event;\n  }\n\n  ngOnDestroy() {\n    if (this.navigationSubscription) {\n      this.navigationSubscription.unsubscribe();\n    }\n\n    this.suppliers.unsubscribe();\n  }\n\n}\n\nQcsTotalsComponent.ɵfac = function QcsTotalsComponent_Factory(t) {\n  return new (t || QcsTotalsComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ReportsService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nQcsTotalsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: QcsTotalsComponent,\n  selectors: [[\"qcs-totals\"]],\n  decls: 12,\n  vars: 5,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_3776059160995990882$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_1 = goog.getMsg(\"Suppliers QC Report\");\n      i18n_0 = MSG_EXTERNAL_3776059160995990882$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"Suppliers QC Report\";\n    }\n\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_4348920359154187664$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_3 = goog.getMsg(\"Supplier\");\n      i18n_2 = MSG_EXTERNAL_4348920359154187664$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_3;\n    } else {\n      i18n_2 = \"Supplier\";\n    }\n\n    let i18n_4;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_6406994397135611679$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__5 = goog.getMsg(\"Raw defects + damage\");\n      i18n_4 = MSG_EXTERNAL_6406994397135611679$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__5;\n    } else {\n      i18n_4 = \"Raw defects + damage\";\n    }\n\n    let i18n_6;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_636988826293384646$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__7 = goog.getMsg(\"Roast defects + damage\");\n      i18n_6 = MSG_EXTERNAL_636988826293384646$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__7;\n    } else {\n      i18n_6 = \"Roast defects + damage\";\n    }\n\n    let i18n_8;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_7078271376845640958$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__9 = goog.getMsg(\"Loss\");\n      i18n_8 = MSG_EXTERNAL_7078271376845640958$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__9;\n    } else {\n      i18n_8 = \"Loss\";\n    }\n\n    let i18n_10;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_6777262799902615398$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__11 = goog.getMsg(\"QC (LBS)\");\n      i18n_10 = MSG_EXTERNAL_6777262799902615398$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__11;\n    } else {\n      i18n_10 = \"QC (LBS)\";\n    }\n\n    let i18n_12;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_8571626271248951896$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__13 = goog.getMsg(\"Waste (LBS)\");\n      i18n_12 = MSG_EXTERNAL_8571626271248951896$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__13;\n    } else {\n      i18n_12 = \"Waste (LBS)\";\n    }\n\n    return [[2, \"text-align\", \"center\"], i18n_0, [3, \"submitRange\"], [\"appearance\", \"fill\", 1, \"no-print\", 2, \"margin-bottom\", \"10px\", \"margin-left\", \"25px\"], i18n_2, [3, \"formControl\", \"selectionChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [\"class\", \"half only-print\", 4, \"ngIf\"], [3, \"mainColumns\", \"detailsSource\", \"listTotals\", \"withPaginator\", \"filteredInfo\"], [\"title\", i18n_4, \"type\", \"percentNormal\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_6, \"type\", \"percentNormal\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_8, \"type\", \"percent\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_10, \"type\", \"decimalNumber\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_12, \"type\", \"decimalNumber\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [1, \"half\", \"only-print\"], [1, \"half\"]];\n  },\n  template: function QcsTotalsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵi18n(1, 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"date-range-select\", 2);\n      i0.ɵɵlistener(\"submitRange\", function QcsTotalsComponent_Template_date_range_select_submitRange_2_listener($event) {\n        return ctx.getAllByDate($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(4, \"mat-label\");\n      i0.ɵɵi18n(5, 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"mat-select\", 5);\n      i0.ɵɵlistener(\"selectionChange\", function QcsTotalsComponent_Template_mat_select_selectionChange_6_listener($event) {\n        return ctx.applySupplier($event.value);\n      });\n      i0.ɵɵelementStart(7, \"mat-option\", 6);\n      i0.ɵɵtext(8, \"--all--\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, QcsTotalsComponent_mat_option_9_Template, 2, 2, \"mat-option\", 7);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, QcsTotalsComponent_ng_container_11_Template, 8, 30, \"ng-container\", 8);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formControl\", ctx.supplier);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 3, ctx.suppliers));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isDataAvailable);\n    }\n  },\n  directives: [i4.DateRangeSelect, i5.MatFormField, i5.MatLabel, i6.MatSelect, i7.NgControlStatus, i7.FormControlDirective, i8.MatOption, i9.NgForOf, i9.NgIf, i10.SearchGroupDetailsComponent, i11.SumsQcsTableComponent],\n  pipes: [i9.AsyncPipe, i12.TableCellPipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/reports/qc-supplier-totals.component.ts"],"names":["FormControl","ReplaySubject","take","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","QcsTotalsComponent_mat_option_9_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","sup_r2","$implicit","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate","value","QcsTotalsComponent_ng_container_11_div_1_Template","ɵɵpipe","ctx_r3","ɵɵnextContext","ɵɵpipeBind3","supplier","_c14","_c15","a0","a1","_c16","_c17","_c18","_c19","QcsTotalsComponent_ng_container_11_Template","_r5","ɵɵgetCurrentView","ɵɵelementContainerStart","ɵɵtemplate","ɵɵlistener","QcsTotalsComponent_ng_container_11_Template_search_group_details_filteredInfo_2_listener","$event","ɵɵrestoreView","ctx_r4","filteredSums","ɵɵelement","ɵɵelementContainerEnd","ctx_r1","columnsShow","qcSource","ɵɵpureFunction2","sumsSource","ɵɵpureFunction0","QcsTotalsComponent","constructor","dialog","localService","genral","cdRef","suppliers","isDataAvailable","ngOnInit","getSuppliersCashew","pipe","subscribe","val","next","name","label","search","options","group","type","getItemsCashew","getAllByDate","dateRange","sumQcBySupplier","id","detectChanges","applySupplier","ngOnDestroy","navigationSubscription","unsubscribe","ɵfac","QcsTotalsComponent_Factory","t","ɵɵdirectiveInject","MatDialog","ReportsService","Genral","ChangeDetectorRef","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_3776059160995990882$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_1","goog","getMsg","i18n_2","MSG_EXTERNAL_4348920359154187664$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_3","i18n_4","MSG_EXTERNAL_6406994397135611679$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__5","i18n_6","MSG_EXTERNAL_636988826293384646$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__7","i18n_8","MSG_EXTERNAL_7078271376845640958$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__9","i18n_10","MSG_EXTERNAL_6777262799902615398$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__11","i18n_12","MSG_EXTERNAL_8571626271248951896$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__13","template","QcsTotalsComponent_Template","ɵɵi18n","QcsTotalsComponent_Template_date_range_select_submitRange_2_listener","QcsTotalsComponent_Template_mat_select_selectionChange_6_listener","ɵɵpipeBind1","directives","DateRangeSelect","MatFormField","MatLabel","MatSelect","NgControlStatus","FormControlDirective","MatOption","NgForOf","NgIf","SearchGroupDetailsComponent","SumsQcsTableComponent","pipes","AsyncPipe","TableCellPipe","encapsulation"],"mappings":"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","sourcesContent":["import { FormControl } from '@angular/forms';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"./reports.service\";\r\nimport * as i3 from \"../genral.service\";\r\nimport * as i4 from \"../tables/date-range-select.component\";\r\nimport * as i5 from \"@angular/material/form-field\";\r\nimport * as i6 from \"@angular/material/select\";\r\nimport * as i7 from \"@angular/forms\";\r\nimport * as i8 from \"@angular/material/core\";\r\nimport * as i9 from \"@angular/common\";\r\nimport * as i10 from \"../tables/search-group-details.component\";\r\nimport * as i11 from \"./sum-qc-table.component\";\r\nimport * as i12 from \"../service/table-cell.pipe\";\r\nfunction QcsTotalsComponent_mat_option_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 9);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const sup_r2 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", sup_r2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(sup_r2.value);\r\n} }\r\nfunction QcsTotalsComponent_ng_container_11_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 17);\r\n    i0.ɵɵelementStart(1, \"label\");\r\n    i0.ɵɵtext(2, \"Supplier\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"span\", 18);\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵpipe(5, \"tableCellPipe\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(5, 1, ctx_r3.supplier.value, \"nameId\", null));\r\n} }\r\nconst _c14 = function () { return [\"supplier\", \"receivedItem\"]; };\r\nconst _c15 = function (a0, a1) { return [a0, a1, \"rawDefectsAndDamage\"]; };\r\nconst _c16 = function (a0, a1) { return [a0, a1, \"roastDefectsAndDamage\"]; };\r\nconst _c17 = function (a0, a1) { return [a0, a1, \"loss\"]; };\r\nconst _c18 = function (a0, a1) { return [a0, a1, \"badQuality\"]; };\r\nconst _c19 = function (a0, a1) { return [a0, a1, \"waste\"]; };\r\nfunction QcsTotalsComponent_ng_container_11_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, QcsTotalsComponent_ng_container_11_div_1_Template, 6, 5, \"div\", 10);\r\n    i0.ɵɵelementStart(2, \"search-group-details\", 11);\r\n    i0.ɵɵlistener(\"filteredInfo\", function QcsTotalsComponent_ng_container_11_Template_search_group_details_filteredInfo_2_listener($event) { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.filteredSums($event); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(3, \"sums-qc-table\", 12);\r\n    i0.ɵɵelement(4, \"sums-qc-table\", 13);\r\n    i0.ɵɵelement(5, \"sums-qc-table\", 14);\r\n    i0.ɵɵelement(6, \"sums-qc-table\", 15);\r\n    i0.ɵɵelement(7, \"sums-qc-table\", 16);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.supplier.value);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainColumns\", ctx_r1.columnsShow)(\"detailsSource\", ctx_r1.qcSource)(\"listTotals\", true)(\"withPaginator\", false);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(11, _c15, ctx_r1.sumsSource, i0.ɵɵpureFunction0(10, _c14)));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(15, _c16, ctx_r1.sumsSource, i0.ɵɵpureFunction0(14, _c14)));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(19, _c17, ctx_r1.sumsSource, i0.ɵɵpureFunction0(18, _c14)));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(23, _c18, ctx_r1.sumsSource, i0.ɵɵpureFunction0(22, _c14)));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"mainDetailsSource\", i0.ɵɵpureFunction2(27, _c19, ctx_r1.sumsSource, i0.ɵɵpureFunction0(26, _c14)));\r\n} }\r\nexport class QcsTotalsComponent {\r\n    constructor(dialog, localService, genral, cdRef) {\r\n        this.dialog = dialog;\r\n        this.localService = localService;\r\n        this.genral = genral;\r\n        this.cdRef = cdRef;\r\n        this.suppliers = new ReplaySubject();\r\n        this.supplier = new FormControl(null);\r\n        this.isDataAvailable = false;\r\n    }\r\n    ngOnInit() {\r\n        this.genral.getSuppliersCashew().pipe(take(1)).subscribe(val => {\r\n            this.suppliers.next(val);\r\n        });\r\n        this.columnsShow = [\r\n            // {\r\n            //   name: 'id',\r\n            //   titel: 'id',\r\n            //   type: 'idGroup',\r\n            // },\r\n            {\r\n                name: 'supplier',\r\n                label: $localize `Supplier`,\r\n                search: 'selectObj',\r\n                options: this.genral.getSuppliersCashew(),\r\n                group: 'supplier',\r\n            },\r\n            {\r\n                type: 'normal',\r\n                name: 'receivedItem',\r\n                label: $localize `Product descrption`,\r\n                search: 'selectObj',\r\n                options: this.genral.getItemsCashew('RawCleanRoast'),\r\n                group: 'receivedItem',\r\n            },\r\n            {\r\n                type: 'normal',\r\n                name: 'poCode',\r\n                label: $localize `PO#`,\r\n                // search: 'object',\r\n                // group: 'poCode',\r\n            },\r\n            // {\r\n            //   type: 'percentNormal',\r\n            //   name: 'rawDamage',\r\n            //   label: $localize`Total raw damage`,\r\n            //   search: 'percentage',\r\n            // },\r\n            // {\r\n            //   type: 'percentNormal',\r\n            //   name: 'rawDefects',\r\n            //   label: $localize`Total raw defects`,\r\n            //   search: 'percentage',\r\n            // },\r\n            {\r\n                type: 'percentNormal',\r\n                name: 'rawDefectsAndDamage',\r\n                label: $localize `Raw defects + damage`,\r\n                search: 'percentage',\r\n            },\r\n            {\r\n                type: 'percentNormal',\r\n                name: 'roastDefectsAndDamage',\r\n                label: $localize `Roast defects + damage`,\r\n                search: 'percentage',\r\n            },\r\n            {\r\n                type: 'percent',\r\n                name: 'loss',\r\n                label: $localize `Loss`,\r\n                search: 'percentage',\r\n            },\r\n            {\r\n                type: 'weight',\r\n                name: 'badQuality',\r\n                label: $localize `QC`,\r\n                search: 'object',\r\n            },\r\n            {\r\n                type: 'weight',\r\n                name: 'waste',\r\n                label: $localize `Waste`,\r\n                search: 'object',\r\n            },\r\n            // {\r\n            //   type: 'percentNormal',\r\n            //   name: 'roastDamage',\r\n            //   label: $localize`Total roast damage`,\r\n            //   search: 'percentage',\r\n            // },\r\n            // {\r\n            //   type: 'percentNormal',\r\n            //   name: 'roastDefects',\r\n            //   label: $localize`Total roast defects`,\r\n            //   search: 'percentage',\r\n            // },\r\n            {\r\n                type: 'dateTime',\r\n                name: 'receiptTime',\r\n                label: $localize `Receiving date`,\r\n                search: 'dates',\r\n            },\r\n        ];\r\n    }\r\n    getAllByDate($event) {\r\n        this.dateRange = $event;\r\n        this.isDataAvailable = true;\r\n        this.qcSource = null;\r\n        this.localService.sumQcBySupplier(this.supplier.value ? this.supplier.value.id : null, $event).pipe(take(1)).subscribe(value => {\r\n            this.qcSource = value;\r\n        });\r\n        this.cdRef.detectChanges();\r\n    }\r\n    applySupplier($event) {\r\n        this.isDataAvailable = true;\r\n        this.qcSource = null;\r\n        this.localService.sumQcBySupplier($event.id, this.dateRange).pipe(take(1)).subscribe(value => {\r\n            this.qcSource = value;\r\n        });\r\n        this.cdRef.detectChanges();\r\n    }\r\n    filteredSums($event) {\r\n        this.sumsSource = $event;\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.navigationSubscription) {\r\n            this.navigationSubscription.unsubscribe();\r\n        }\r\n        this.suppliers.unsubscribe();\r\n    }\r\n}\r\nQcsTotalsComponent.ɵfac = function QcsTotalsComponent_Factory(t) { return new (t || QcsTotalsComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ReportsService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\r\nQcsTotalsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: QcsTotalsComponent, selectors: [[\"qcs-totals\"]], decls: 12, vars: 5, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_3776059160995990882$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_1 = goog.getMsg(\"Suppliers QC Report\");\r\n        i18n_0 = MSG_EXTERNAL_3776059160995990882$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟41cdcd52813e7f7432efa9f5db485eee76571562␟3776059160995990882:Suppliers QC Report`;\r\n    } let i18n_2; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_4348920359154187664$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_3 = goog.getMsg(\"Supplier\");\r\n        i18n_2 = MSG_EXTERNAL_4348920359154187664$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS_3;\r\n    }\r\n    else {\r\n        i18n_2 = $localize `:␟c903969eedb25df219dedc420b951bf09aa71e52␟4348920359154187664:Supplier`;\r\n    } let i18n_4; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_6406994397135611679$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__5 = goog.getMsg(\"Raw defects + damage\");\r\n        i18n_4 = MSG_EXTERNAL_6406994397135611679$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__5;\r\n    }\r\n    else {\r\n        i18n_4 = $localize `:␟59e3a0a358717bd6af048e0670dc81569c4af789␟6406994397135611679:Raw defects + damage`;\r\n    } let i18n_6; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_636988826293384646$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__7 = goog.getMsg(\"Roast defects + damage\");\r\n        i18n_6 = MSG_EXTERNAL_636988826293384646$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__7;\r\n    }\r\n    else {\r\n        i18n_6 = $localize `:␟c7e9518ac74f8d0610ecbb39823fb8aa64960cef␟636988826293384646:Roast defects + damage`;\r\n    } let i18n_8; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_7078271376845640958$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__9 = goog.getMsg(\"Loss\");\r\n        i18n_8 = MSG_EXTERNAL_7078271376845640958$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__9;\r\n    }\r\n    else {\r\n        i18n_8 = $localize `:␟fdea83397493e2663d5d02dfab1ed0becd37e1c0␟7078271376845640958:Loss`;\r\n    } let i18n_10; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_6777262799902615398$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__11 = goog.getMsg(\"QC (LBS)\");\r\n        i18n_10 = MSG_EXTERNAL_6777262799902615398$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__11;\r\n    }\r\n    else {\r\n        i18n_10 = $localize `:␟e3cb300973c90eb5b613724a9ee183fef4f3a1a7␟6777262799902615398:QC (LBS)`;\r\n    } let i18n_12; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_8571626271248951896$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__13 = goog.getMsg(\"Waste (LBS)\");\r\n        i18n_12 = MSG_EXTERNAL_8571626271248951896$$SRC_APP_REPORTS_QC_SUPPLIER_TOTALS_COMPONENT_TS__13;\r\n    }\r\n    else {\r\n        i18n_12 = $localize `:␟73381bcd4dd7e54268301ead14f1b6063718063c␟8571626271248951896:Waste (LBS)`;\r\n    } return [[2, \"text-align\", \"center\"], i18n_0, [3, \"submitRange\"], [\"appearance\", \"fill\", 1, \"no-print\", 2, \"margin-bottom\", \"10px\", \"margin-left\", \"25px\"], i18n_2, [3, \"formControl\", \"selectionChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [\"class\", \"half only-print\", 4, \"ngIf\"], [3, \"mainColumns\", \"detailsSource\", \"listTotals\", \"withPaginator\", \"filteredInfo\"], [\"title\", i18n_4, \"type\", \"percentNormal\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_6, \"type\", \"percentNormal\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_8, \"type\", \"percent\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_10, \"type\", \"decimalNumber\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [\"title\", i18n_12, \"type\", \"decimalNumber\", 1, \"sums-qc\", 3, \"mainDetailsSource\"], [1, \"half\", \"only-print\"], [1, \"half\"]]; }, template: function QcsTotalsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h1\", 0);\r\n        i0.ɵɵi18n(1, 1);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"date-range-select\", 2);\r\n        i0.ɵɵlistener(\"submitRange\", function QcsTotalsComponent_Template_date_range_select_submitRange_2_listener($event) { return ctx.getAllByDate($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"mat-form-field\", 3);\r\n        i0.ɵɵelementStart(4, \"mat-label\");\r\n        i0.ɵɵi18n(5, 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"mat-select\", 5);\r\n        i0.ɵɵlistener(\"selectionChange\", function QcsTotalsComponent_Template_mat_select_selectionChange_6_listener($event) { return ctx.applySupplier($event.value); });\r\n        i0.ɵɵelementStart(7, \"mat-option\", 6);\r\n        i0.ɵɵtext(8, \"--all--\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(9, QcsTotalsComponent_mat_option_9_Template, 2, 2, \"mat-option\", 7);\r\n        i0.ɵɵpipe(10, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(11, QcsTotalsComponent_ng_container_11_Template, 8, 30, \"ng-container\", 8);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"formControl\", ctx.supplier);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 3, ctx.suppliers));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isDataAvailable);\r\n    } }, directives: [i4.DateRangeSelect, i5.MatFormField, i5.MatLabel, i6.MatSelect, i7.NgControlStatus, i7.FormControlDirective, i8.MatOption, i9.NgForOf, i9.NgIf, i10.SearchGroupDetailsComponent, i11.SumsQcsTableComponent], pipes: [i9.AsyncPipe, i12.TableCellPipe], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}