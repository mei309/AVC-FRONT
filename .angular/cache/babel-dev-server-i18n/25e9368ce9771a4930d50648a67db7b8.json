{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { isEqual } from 'lodash-es';\nimport { PopupformDialog } from '../popupform/popupform.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/material/table\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/chips\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"../../libraries/numeric.directive\";\n\nfunction TableInfoGroupComponent_ng_container_4_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 13);\n    i0.ɵɵelementStart(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(column_r3.label);\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r7[column_r3.name], \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_mat_chip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const symbol_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", symbol_r26.value, \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelementStart(1, \"mat-chip-list\");\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_mat_chip_2_Template, 2, 1, \"mat-chip\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(3).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", element_r7[column_r3.name]);\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(3).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", element_r7[column_r3.name][\"value\"], \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_Template, 3, 1, \"div\", 18);\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_ng_template_2_Template, 1, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _r23 = i0.ɵɵreference(3);\n\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.isArray(element_r7[column_r3.name]))(\"ngIfElse\", _r23);\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r7[column_r3.name], \"medium\"), \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, element_r7[column_r3.name]), \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", element_r7[column_r3.name][\"value\"], \", \", element_r7[column_r3.name][column_r3.collections], \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r7[column_r3.name], element_r7[column_r3.collections]), \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", element_r7[column_r3.name], \" \", element_r7[column_r3.collections], \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"done\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c4 = function (a0) {\n  return [a0];\n};\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_mat_icon_1_Template, 2, 0, \"mat-icon\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r7[column_r3.name] == i0.ɵɵpureFunction1(1, _c4, column_r3.collections));\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainerStart(1, 16);\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_2_Template, 2, 1, \"ng-container\", 17);\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_Template, 4, 2, \"ng-container\", 17);\n    i0.ɵɵtemplate(4, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_4_Template, 3, 4, \"ng-container\", 17);\n    i0.ɵɵtemplate(5, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_5_Template, 3, 3, \"ng-container\", 17);\n    i0.ɵɵtemplate(6, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_6_Template, 2, 2, \"ng-container\", 17);\n    i0.ɵɵtemplate(7, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_7_Template, 3, 4, \"ng-container\", 17);\n    i0.ɵɵtemplate(8, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_8_Template, 2, 2, \"ng-container\", 17);\n    i0.ɵɵtemplate(9, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_Template, 2, 3, \"ng-container\", 17);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const column_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", column_r3.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"normal\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"nameId\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"dateTime\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"date\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"name2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"currency\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"weight\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"check\");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const element_r7 = i0.ɵɵnextContext().$implicit;\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return ctx_r47.popupForm(element_r7);\n    });\n    i0.ɵɵelementStart(2, \"span\", 23);\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"done\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext().$implicit;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r10.arrayControl.get(element_r7[\"id\"].toString()).value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", column_r3.label, \" \");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 27);\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r52 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"formControlName\", element_r7[\"id\"])(\"type\", ctx_r52.field.inputType);\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 28);\n  }\n\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r53 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"formControlName\", element_r7[\"id\"])(\"decimals\", ctx_r53.field.options);\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 24);\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_2_Template, 1, 2, \"input\", 25);\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_3_Template, 1, 2, \"input\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.field.inputType !== \"numeric\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.field.inputType === \"numeric\");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 14);\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_Template, 10, 9, \"ng-container\", 15);\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template, 6, 2, \"ng-container\", 15);\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_Template, 4, 2, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const column_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"display\", ctx_r5.getRowSpan(i_r8, column_r3.group) ? \"\" : \"none\");\n    i0.ɵɵattribute(\"rowspan\", ctx_r5.getRowSpan(i_r8, column_r3.group));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r7[column_r3.name]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r3.type === \"popup\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r3.type === \"input\");\n  }\n}\n\nfunction TableInfoGroupComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 10);\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_th_1_Template, 3, 1, \"th\", 11);\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_Template, 4, 6, \"td\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const column_r3 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"matColumnDef\", column_r3.name);\n  }\n}\n\nfunction TableInfoGroupComponent_tr_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 29);\n  }\n}\n\nfunction TableInfoGroupComponent_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\n\nexport class TableInfoGroupComponent {\n  //   componentRef: any;\n  constructor(dialog, fb, _snackBar) {\n    this.dialog = dialog;\n    this.fb = fb;\n    this._snackBar = _snackBar;\n    this.submitForm = new EventEmitter();\n    this.arrayControl = new FormGroup({});\n    this.oneColumns = [];\n    this.spans = [];\n    this.columnsDisplay = [];\n    this.localGroupOneColumns = [];\n  }\n\n  set mainDetailsSource(value) {\n    if (value) {\n      this.dataSource = value[0];\n      this.oneColumns = value[1];\n      this.columnsDisplay = [];\n      this.localGroupOneColumns = [];\n      this.lastSpan = null;\n      this.spans = [];\n      this.preperData(); // this.dataSource = this.dataSource;\n    } else {\n      this.dataSource = null;\n      this.oneColumns = [];\n    }\n  }\n\n  ngOnInit() {}\n\n  preperData() {\n    var thisLavel = false;\n    this.oneColumns.forEach(element => {\n      if (['popup', 'input'].includes(element.type)) {\n        this.field = element;\n        thisLavel = true;\n        this.dataSource.forEach(ele => {\n          const control = this.fb.control(null);\n          this.arrayControl.addControl(ele['id'], control);\n        });\n\n        if (this.field.options) {\n          this.dataCopyForGroup = Object.assign([], this.dataSource);\n        }\n      }\n    });\n    var groupId = false;\n    this.oneColumns.forEach(element => {\n      if (element.type === 'idGroup') {\n        groupId = true;\n      } else if (element.type === 'kidArray') {\n        if (thisLavel) {\n          this.takeCareKidArrayOutside(element);\n        } else {\n          this.takeCareKidArrayInside(element);\n        }\n      } else {\n        this.localGroupOneColumns.push(element);\n        this.columnsDisplay.push(element.name);\n      }\n    });\n\n    if (groupId) {\n      this.spanRow(d => d['id'], 'id');\n      this.lastSpan = 'id';\n    }\n\n    this.localGroupOneColumns.forEach(element => {\n      if (element.group === element.name) {\n        this.spanRow(d => d[element.name], element.name);\n        this.lastSpan = element.name;\n      }\n    });\n  }\n\n  takeCareKidArrayOutside(element) {\n    var arr = [];\n    this.dataSource.forEach(line => {\n      line[element.name].forEach(obj => {\n        var copied = Object.assign({}, obj, line);\n        delete copied[element.name];\n        arr.push(copied);\n      });\n    });\n    this.dataSource = arr;\n    element.collections.forEach(second => {\n      if (second.type === 'kidArray') {\n        this.takeCareKidArrayOutside(second);\n      } else {\n        this.localGroupOneColumns.push(second);\n        this.columnsDisplay.push(second.name);\n      }\n    });\n  }\n\n  takeCareKidArrayInside(element) {\n    var arr = [];\n    this.dataSource.forEach(line => {\n      line[element.name].forEach(obj => {\n        var copied = Object.assign({}, line, obj);\n        delete copied[element.name];\n        arr.push(copied);\n      });\n    });\n    this.dataSource = arr;\n    var thisLavel = false;\n    element.collections.forEach(element => {\n      if (['popup', 'input'].includes(element.type)) {\n        this.field = element;\n        thisLavel = true;\n        this.dataSource.forEach(ele => {\n          const control = this.fb.control(null);\n          this.arrayControl.addControl(ele['id'], control);\n        });\n\n        if (this.field.options) {\n          this.dataCopyForGroup = Object.assign([], this.dataSource);\n        }\n      }\n    });\n    element.collections.forEach(second => {\n      if (second.type === 'kidArray') {\n        if (thisLavel) {\n          this.takeCareKidArrayOutside(element);\n        } else {\n          this.takeCareKidArrayInside(element);\n        }\n      } else {\n        this.localGroupOneColumns.push(second);\n        this.columnsDisplay.push(second.name);\n      }\n    });\n  }\n\n  spanRow(accessor, key) {\n    if (this.lastSpan) {\n      var start = 0;\n      var end = this.spans[0] ? this.spans[0][this.lastSpan] : 0;\n\n      while (end < this.dataSource.length) {\n        this.spanWork(accessor, key, start, end);\n        start = end;\n        end += this.spans[start][this.lastSpan];\n      }\n\n      this.spanWork(accessor, key, start, this.dataSource.length);\n    } else {\n      this.spanWork(accessor, key, 0, this.dataSource.length);\n    }\n  }\n\n  spanWork(accessor, key, start, end) {\n    for (let i = start; i < end;) {\n      let currentValue = accessor(this.dataSource[i]);\n      let count = 1; // Iterate through the remaining rows to see how many match\n      // the current value as retrieved through the accessor.\n\n      for (let j = i + 1; j < end; j++) {\n        if (!isEqual(currentValue, accessor(this.dataSource[j]))) {\n          break;\n        }\n\n        count++;\n      }\n\n      if (!this.spans[i]) {\n        this.spans[i] = {};\n      } // Store the number of similar values that were found (the span)\n      // and skip i to the next unique row.\n\n\n      this.spans[i][key] = count;\n      i += count;\n    }\n  }\n\n  getRowSpan(index, key) {\n    if (!key) {\n      return 1;\n    }\n\n    return this.spans[index] && this.spans[index][key];\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.arrayControl.valid) {\n      var final = this.arrayControl.value;\n      const rows = Object.keys(final);\n      rows.forEach(element => {\n        if (!final[element]) {\n          delete final[element];\n        }\n      });\n      this.submitForm.emit(final);\n    } else {\n      this._snackBar.open('please fill in all required fields', 'ok', {\n        duration: 5000,\n        // panelClass: 'blue-snackbar',\n        verticalPosition: 'top'\n      });\n    }\n\n    this.arrayControl.markAllAsTouched();\n  }\n\n  onReset() {\n    this.ngOnInit();\n  }\n\n  popupForm(element) {\n    const stringId = element['id'].toString();\n    var oldVal = null;\n\n    if (this.arrayControl.get(stringId).value) {\n      oldVal = this.arrayControl.get(stringId).value;\n    } else if (this.field.options) {\n      const olddata = this.dataCopyForGroup.find(ele => ele['id'] === element['id']);\n      oldVal = olddata;\n    }\n\n    const dialogRef = this.dialog.open(PopupformDialog, {\n      width: '70%',\n      height: '70%',\n      data: {\n        field: this.field,\n        oldValue: oldVal\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result !== 'closed') {\n        this.arrayControl.get(stringId).setValue(result);\n      }\n    });\n  }\n\n  isArray(obj) {\n    return Array.isArray(obj);\n  }\n\n}\n\nTableInfoGroupComponent.ɵfac = function TableInfoGroupComponent_Factory(t) {\n  return new (t || TableInfoGroupComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n};\n\nTableInfoGroupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TableInfoGroupComponent,\n  selectors: [[\"table-info-group\"]],\n  inputs: {\n    titel: \"titel\",\n    mainDetailsSource: \"mainDetailsSource\"\n  },\n  outputs: {\n    submitForm: \"submitForm\"\n  },\n  decls: 12,\n  vars: 6,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_935187492052582731$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_1 = goog.getMsg(\"Submit\");\n      i18n_0 = MSG_EXTERNAL_935187492052582731$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"Submit\";\n    }\n\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_7808756054397155068$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_3 = goog.getMsg(\"Reset\");\n      i18n_2 = MSG_EXTERNAL_7808756054397155068$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_3;\n    } else {\n      i18n_2 = \"Reset\";\n    }\n\n    return [[3, \"formGroup\", \"submit\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"margin-top\", 2, \"text-align\", \"right\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"min-width\", \"150px\", \"margin-right\", \"45px\"], i18n_0, [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"min-width\", \"150px\", 3, \"click\"], i18n_2, [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"vertical-align: top;\\n                padding-left: 16px;\\n                padding-top: 14px;\", 3, \"display\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 2, \"vertical-align\", \"top\", \"padding-left\", \"16px\", \"padding-top\", \"14px\"], [4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"style\", \"display: inline\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [2, \"display\", \"inline\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [3, \"hidden\"], [1, \"one-field\"], [\"matInput\", \"\", \"maxlength\", \"255\", 3, \"formControlName\", \"type\", 4, \"ngIf\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\", 4, \"ngIf\"], [\"matInput\", \"\", \"maxlength\", \"255\", 3, \"formControlName\", \"type\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]];\n  },\n  template: function TableInfoGroupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function TableInfoGroupComponent_Template_form_submit_2_listener($event) {\n        return ctx.onSubmit($event);\n      });\n      i0.ɵɵelementStart(3, \"table\", 1);\n      i0.ɵɵtemplate(4, TableInfoGroupComponent_ng_container_4_Template, 3, 1, \"ng-container\", 2);\n      i0.ɵɵtemplate(5, TableInfoGroupComponent_tr_5_Template, 1, 0, \"tr\", 3);\n      i0.ɵɵtemplate(6, TableInfoGroupComponent_tr_6_Template, 1, 0, \"tr\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵi18n(9, 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function TableInfoGroupComponent_Template_button_click_10_listener() {\n        return ctx.onReset();\n      });\n      i0.ɵɵi18n(11, 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.titel);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.arrayControl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.localGroupOneColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsDisplay);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsDisplay);\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i4.MatTable, i5.NgForOf, i4.MatHeaderRowDef, i4.MatRowDef, i6.MatButton, i4.MatColumnDef, i4.MatHeaderCellDef, i4.MatCellDef, i4.MatHeaderCell, i4.MatCell, i5.NgIf, i5.NgSwitch, i5.NgSwitchCase, i7.MatChipList, i7.MatChip, i8.MatIcon, i9.MatFormField, i10.MatInput, i2.DefaultValueAccessor, i2.MaxLengthValidator, i2.NgControlStatus, i2.FormControlName, i11.NumericDirective, i4.MatHeaderRow, i4.MatRow],\n  pipes: [i5.DatePipe, i5.CurrencyPipe],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n  text-align: center !important;\\r\\n  width: -webkit-fit-content;\\r\\n  width: -moz-fit-content;\\r\\n  width: fit-content;\\r\\n  min-width: 90%;\\r\\n}\\r\\n  \\r\\n  .mat-header-cell[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n  }\\r\\n  \\r\\n  .mat-row[_ngcontent-%COMP%]{\\r\\n      background-color: white;\\r\\n      }\\r\\n  \\r\\n  .mat-header-row[_ngcontent-%COMP%] {\\r\\n        background-color: white;\\r\\n      }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlc2luZm8uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLDZCQUE2QjtFQUM3QiwwQkFBa0I7RUFBbEIsdUJBQWtCO0VBQWxCLGtCQUFrQjtFQUNsQixjQUFjO0FBQ2hCOztFQUVFO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUdFO01BQ0UsdUJBQXVCO01BQ3ZCOztFQUNBO1FBQ0UsdUJBQXVCO01BQ3pCIiwiZmlsZSI6InRhYmxlc2luZm8uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnRhYmxlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgbWluLXdpZHRoOiA5MCU7XHJcbn1cclxuICBcclxuICAubWF0LWhlYWRlci1jZWxsIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLm1hdC1yb3d7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICB9XHJcbiAgICAgIC5tYXQtaGVhZGVyLXJvdyB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgIH1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/components/tablesinput/tableinfogroup.component.ts"],"names":["EventEmitter","FormGroup","isEqual","PopupformDialog","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","TableInfoGroupComponent_ng_container_4_th_1_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","column_r3","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate","label","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_2_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","element_r7","ɵɵtextInterpolate1","name","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_mat_chip_2_Template","symbol_r26","value","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_Template","ɵɵtemplate","ɵɵproperty","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_ng_template_2_Template","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_Template","ɵɵtemplateRefExtractor","_r23","ɵɵreference","ctx_r13","isArray","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_4_Template","ɵɵpipe","ɵɵpipeBind2","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_5_Template","ɵɵpipeBind1","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_6_Template","ɵɵtextInterpolate2","collections","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_7_Template","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_8_Template","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_mat_icon_1_Template","_c4","a0","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_Template","ɵɵpureFunction1","TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_Template","type","TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template","_r49","ɵɵgetCurrentView","ɵɵlistener","TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template_button_click_1_listener","ɵɵrestoreView","ctx_r47","popupForm","ctx_r10","arrayControl","get","toString","TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_2_Template","ɵɵelement","ctx_r52","field","inputType","TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_3_Template","ctx_r53","options","TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_Template","ctx_r11","TableInfoGroupComponent_ng_container_4_td_2_Template","i_r8","index","ctx_r5","ɵɵstyleProp","getRowSpan","group","ɵɵattribute","TableInfoGroupComponent_ng_container_4_Template","ɵɵpropertyInterpolate","TableInfoGroupComponent_tr_5_Template","TableInfoGroupComponent_tr_6_Template","TableInfoGroupComponent","constructor","dialog","fb","_snackBar","submitForm","oneColumns","spans","columnsDisplay","localGroupOneColumns","mainDetailsSource","dataSource","lastSpan","preperData","ngOnInit","thisLavel","forEach","element","includes","ele","control","addControl","dataCopyForGroup","Object","assign","groupId","takeCareKidArrayOutside","takeCareKidArrayInside","push","spanRow","d","arr","line","obj","copied","second","accessor","key","start","end","length","spanWork","i","currentValue","count","j","onSubmit","event","preventDefault","stopPropagation","valid","final","rows","keys","emit","open","duration","verticalPosition","markAllAsTouched","onReset","stringId","oldVal","olddata","find","dialogRef","width","height","data","oldValue","afterClosed","subscribe","result","setValue","Array","ɵfac","TableInfoGroupComponent_Factory","t","ɵɵdirectiveInject","MatDialog","FormBuilder","MatSnackBar","ɵcmp","ɵɵdefineComponent","selectors","inputs","titel","outputs","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_935187492052582731$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_1","goog","getMsg","i18n_2","MSG_EXTERNAL_7808756054397155068$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_3","template","TableInfoGroupComponent_Template","TableInfoGroupComponent_Template_form_submit_2_listener","$event","ɵɵi18n","TableInfoGroupComponent_Template_button_click_10_listener","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatTable","NgForOf","MatHeaderRowDef","MatRowDef","MatButton","MatColumnDef","MatHeaderCellDef","MatCellDef","MatHeaderCell","MatCell","NgIf","NgSwitch","NgSwitchCase","MatChipList","MatChip","MatIcon","MatFormField","MatInput","DefaultValueAccessor","MaxLengthValidator","NgControlStatus","FormControlName","NumericDirective","MatHeaderRow","MatRow","pipes","DatePipe","CurrencyPipe","styles"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,eAAT,QAAgC,kCAAhC;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,yBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,yBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,8BAApB;AACA,OAAO,KAAKC,GAAZ,MAAqB,yBAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,mCAArB;;AACA,SAASC,oDAAT,CAA8DC,EAA9D,EAAkEC,GAAlE,EAAuE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjFb,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B;AACAf,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAf,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAACiB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACsB,iBAAH,CAAqBJ,SAAS,CAACK,KAA/B;AACH;AAAE;;AACH,SAASC,kFAAT,CAA4FX,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2BD,UAAU,CAACT,SAAS,CAACW,IAAX,CAArC,EAAuD,GAAvD;AACH;AAAE;;AACH,SAASC,mGAAT,CAA6GjB,EAA7G,EAAiHC,GAAjH,EAAsH;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChIb,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,UAArB;AACAf,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACiB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMkB,UAAU,GAAGjB,GAAG,CAACM,SAAvB;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,EAAtB,EAA0BG,UAAU,CAACC,KAArC,EAA4C,GAA5C;AACH;AAAE;;AACH,SAASC,wFAAT,CAAkGpB,EAAlG,EAAsGC,GAAtG,EAA2G;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACrHb,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAf,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,eAArB;AACAf,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBJ,mGAAjB,EAAsH,CAAtH,EAAyH,CAAzH,EAA4H,UAA5H,EAAwI,EAAxI;AACA9B,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAACiB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,SAAd,EAAyBR,UAAU,CAACT,SAAS,CAACW,IAAX,CAAnC;AACH;AAAE;;AACH,SAASO,gGAAT,CAA0GvB,EAA1G,EAA8GC,GAA9G,EAAmH;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC7Hb,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACH;;AAAC,MAAIH,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2BD,UAAU,CAACT,SAAS,CAACW,IAAX,CAAV,CAA2B,OAA3B,CAA3B,EAAgE,GAAhE;AACH;AAAE;;AACH,SAASQ,kFAAT,CAA4FxB,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBD,wFAAjB,EAA2G,CAA3G,EAA8G,CAA9G,EAAiH,KAAjH,EAAwH,EAAxH;AACAjC,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBE,gGAAjB,EAAmH,CAAnH,EAAsH,CAAtH,EAAyH,aAAzH,EAAwI,IAAxI,EAA8I,EAA9I,EAAkJpC,EAAE,CAACsC,sBAArJ;AACAtC,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAM0B,IAAI,GAAGvC,EAAE,CAACwC,WAAH,CAAe,CAAf,CAAb;;AACA,UAAMb,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACA,UAAMqB,OAAO,GAAGzC,EAAE,CAACmB,aAAH,EAAhB;AACAnB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsBM,OAAO,CAACC,OAAR,CAAgBf,UAAU,CAACT,SAAS,CAACW,IAAX,CAA1B,CAAtB,EAAmE,UAAnE,EAA+EU,IAA/E;AACH;AAAE;;AACH,SAASI,kFAAT,CAA4F9B,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC4C,MAAH,CAAU,CAAV,EAAa,MAAb;AACA5C,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2B5B,EAAE,CAAC6C,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBlB,UAAU,CAACT,SAAS,CAACW,IAAX,CAA/B,EAAiD,QAAjD,CAA3B,EAAuF,GAAvF;AACH;AAAE;;AACH,SAASiB,kFAAT,CAA4FjC,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC4C,MAAH,CAAU,CAAV,EAAa,MAAb;AACA5C,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2B5B,EAAE,CAAC+C,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBpB,UAAU,CAACT,SAAS,CAACW,IAAX,CAA/B,CAA3B,EAA6E,GAA7E;AACH;AAAE;;AACH,SAASmB,kFAAT,CAA4FnC,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACiD,kBAAH,CAAsB,GAAtB,EAA2BtB,UAAU,CAACT,SAAS,CAACW,IAAX,CAAV,CAA2B,OAA3B,CAA3B,EAAgE,IAAhE,EAAsEF,UAAU,CAACT,SAAS,CAACW,IAAX,CAAV,CAA2BX,SAAS,CAACgC,WAArC,CAAtE,EAAyH,GAAzH;AACH;AAAE;;AACH,SAASC,kFAAT,CAA4FtC,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC4C,MAAH,CAAU,CAAV,EAAa,UAAb;AACA5C,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2B5B,EAAE,CAAC6C,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBlB,UAAU,CAACT,SAAS,CAACW,IAAX,CAA/B,EAAiDF,UAAU,CAACT,SAAS,CAACgC,WAAX,CAA3D,CAA3B,EAAgH,GAAhH;AACH;AAAE;;AACH,SAASE,kFAAT,CAA4FvC,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACiD,kBAAH,CAAsB,GAAtB,EAA2BtB,UAAU,CAACT,SAAS,CAACW,IAAX,CAArC,EAAuD,GAAvD,EAA4DF,UAAU,CAACT,SAAS,CAACgC,WAAX,CAAtE,EAA+F,GAA/F;AACH;AAAE;;AACH,SAASG,6FAAT,CAAuGxC,EAAvG,EAA2GC,GAA3G,EAAgH;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC1Hb,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,UAArB;AACAf,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV,EAAa,MAAb;AACAhB,IAAAA,EAAE,CAACiB,YAAH;AACH;AAAE;;AACH,MAAMqC,GAAG,GAAG,UAAUC,EAAV,EAAc;AAAE,SAAO,CAACA,EAAD,CAAP;AAAc,CAA1C;;AACA,SAASC,kFAAT,CAA4F3C,EAA5F,EAAgGC,GAAhG,EAAqG;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/Gb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBmB,6FAAjB,EAAgH,CAAhH,EAAmH,CAAnH,EAAsH,UAAtH,EAAkI,EAAlI;AACArD,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsBR,UAAU,CAACT,SAAS,CAACW,IAAX,CAAV,IAA8B7B,EAAE,CAACyD,eAAH,CAAmB,CAAnB,EAAsBH,GAAtB,EAA2BpC,SAAS,CAACgC,WAArC,CAApD;AACH;AAAE;;AACH,SAASQ,mEAAT,CAA6E7C,EAA7E,EAAiFC,GAAjF,EAAsF;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChGb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B,EAA8B,EAA9B;AACAzB,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBV,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACAxB,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBG,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACArC,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBS,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACA3C,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBY,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACA9C,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBc,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACAhD,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBiB,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACAnD,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBkB,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACApD,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBsB,kFAAjB,EAAqG,CAArG,EAAwG,CAAxG,EAA2G,cAA3G,EAA2H,EAA3H;AACAxD,IAAAA,EAAE,CAAC0B,qBAAH;AACA1B,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,SAAS,GAAGlB,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAtC;AACApB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,UAAd,EAA0BjB,SAAS,CAACyC,IAApC;AACA3D,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,QAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,QAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,UAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,MAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,OAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,UAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,QAA9B;AACAnC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,cAAd,EAA8B,OAA9B;AACH;AAAE;;AACH,SAASyB,mEAAT,CAA6E/C,EAA7E,EAAiFC,GAAjF,EAAsF;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChG,UAAMgD,IAAI,GAAG7D,EAAE,CAAC8D,gBAAH,EAAb;;AACA9D,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,EAA/B;AACAf,IAAAA,EAAE,CAAC+D,UAAH,CAAc,OAAd,EAAuB,SAASC,2FAAT,GAAuG;AAAEhE,MAAAA,EAAE,CAACiE,aAAH,CAAiBJ,IAAjB;AAAwB,YAAMlC,UAAU,GAAG3B,EAAE,CAACmB,aAAH,GAAmBC,SAAtC;AAAiD,YAAM8C,OAAO,GAAGlE,EAAE,CAACmB,aAAH,CAAiB,CAAjB,CAAhB;AAAqC,aAAO+C,OAAO,CAACC,SAAR,CAAkBxC,UAAlB,CAAP;AAAuC,KAArR;AACA3B,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAf,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,UAArB;AACAf,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV,EAAa,MAAb;AACAhB,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,GAAmBC,SAAtC;AACA,UAAMF,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACA,UAAMgD,OAAO,GAAGpE,EAAE,CAACmB,aAAH,EAAhB;AACAnB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,QAAd,EAAwB,CAACiC,OAAO,CAACC,YAAR,CAAqBC,GAArB,CAAyB3C,UAAU,CAAC,IAAD,CAAV,CAAiB4C,QAAjB,EAAzB,EAAsDvC,KAA/E;AACAhC,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAAC4B,kBAAH,CAAsB,GAAtB,EAA2BV,SAAS,CAACK,KAArC,EAA4C,GAA5C;AACH;AAAE;;AACH,SAASiD,2EAAT,CAAqF3D,EAArF,EAAyFC,GAAzF,EAA8F;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACxGb,IAAAA,EAAE,CAACyE,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,EAAzB;AACH;;AAAC,MAAI5D,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAMsD,OAAO,GAAG1E,EAAE,CAACmB,aAAH,CAAiB,CAAjB,CAAhB;AACAnB,IAAAA,EAAE,CAACmC,UAAH,CAAc,iBAAd,EAAiCR,UAAU,CAAC,IAAD,CAA3C,EAAmD,MAAnD,EAA2D+C,OAAO,CAACC,KAAR,CAAcC,SAAzE;AACH;AAAE;;AACH,SAASC,2EAAT,CAAqFhE,EAArF,EAAyFC,GAAzF,EAA8F;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACxGb,IAAAA,EAAE,CAACyE,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,EAAzB;AACH;;AAAC,MAAI5D,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAG3B,EAAE,CAACmB,aAAH,CAAiB,CAAjB,EAAoBC,SAAvC;AACA,UAAM0D,OAAO,GAAG9E,EAAE,CAACmB,aAAH,CAAiB,CAAjB,CAAhB;AACAnB,IAAAA,EAAE,CAACmC,UAAH,CAAc,iBAAd,EAAiCR,UAAU,CAAC,IAAD,CAA3C,EAAmD,UAAnD,EAA+DmD,OAAO,CAACH,KAAR,CAAcI,OAA7E;AACH;AAAE;;AACH,SAASC,mEAAT,CAA6EnE,EAA7E,EAAiFC,GAAjF,EAAsF;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChGb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B;AACAzB,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,gBAArB,EAAuC,EAAvC;AACAf,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBsC,2EAAjB,EAA8F,CAA9F,EAAiG,CAAjG,EAAoG,OAApG,EAA6G,EAA7G;AACAxE,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiB2C,2EAAjB,EAA8F,CAA9F,EAAiG,CAAjG,EAAoG,OAApG,EAA6G,EAA7G;AACA7E,IAAAA,EAAE,CAACiB,YAAH;AACAjB,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMoE,OAAO,GAAGjF,EAAE,CAACmB,aAAH,CAAiB,CAAjB,CAAhB;AACAnB,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsB8C,OAAO,CAACN,KAAR,CAAcC,SAAd,KAA4B,SAAlD;AACA5E,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsB8C,OAAO,CAACN,KAAR,CAAcC,SAAd,KAA4B,SAAlD;AACH;AAAE;;AACH,SAASM,oDAAT,CAA8DrE,EAA9D,EAAkEC,GAAlE,EAAuE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjFb,IAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B;AACAf,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBwB,mEAAjB,EAAsF,EAAtF,EAA0F,CAA1F,EAA6F,cAA7F,EAA6G,EAA7G;AACA1D,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiB0B,mEAAjB,EAAsF,CAAtF,EAAyF,CAAzF,EAA4F,cAA5F,EAA4G,EAA5G;AACA5D,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiB8C,mEAAjB,EAAsF,CAAtF,EAAyF,CAAzF,EAA4F,cAA5F,EAA4G,EAA5G;AACAhF,IAAAA,EAAE,CAACiB,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,UAAU,GAAGb,GAAG,CAACM,SAAvB;AACA,UAAM+D,IAAI,GAAGrE,GAAG,CAACsE,KAAjB;AACA,UAAMlE,SAAS,GAAGlB,EAAE,CAACmB,aAAH,GAAmBC,SAArC;AACA,UAAMiE,MAAM,GAAGrF,EAAE,CAACmB,aAAH,EAAf;AACAnB,IAAAA,EAAE,CAACsF,WAAH,CAAe,SAAf,EAA0BD,MAAM,CAACE,UAAP,CAAkBJ,IAAlB,EAAwBjE,SAAS,CAACsE,KAAlC,IAA2C,EAA3C,GAAgD,MAA1E;AACAxF,IAAAA,EAAE,CAACyF,WAAH,CAAe,SAAf,EAA0BJ,MAAM,CAACE,UAAP,CAAkBJ,IAAlB,EAAwBjE,SAAS,CAACsE,KAAlC,CAA1B;AACAxF,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsBR,UAAU,CAACT,SAAS,CAACW,IAAX,CAAhC;AACA7B,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsBjB,SAAS,CAACyC,IAAV,KAAmB,OAAzC;AACA3D,IAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,IAAAA,EAAE,CAACmC,UAAH,CAAc,MAAd,EAAsBjB,SAAS,CAACyC,IAAV,KAAmB,OAAzC;AACH;AAAE;;AACH,SAAS+B,+CAAT,CAAyD7E,EAAzD,EAA6DC,GAA7D,EAAkE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC5Eb,IAAAA,EAAE,CAACyB,uBAAH,CAA2B,CAA3B,EAA8B,EAA9B;AACAzB,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBtB,oDAAjB,EAAuE,CAAvE,EAA0E,CAA1E,EAA6E,IAA7E,EAAmF,EAAnF;AACAZ,IAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBgD,oDAAjB,EAAuE,CAAvE,EAA0E,CAA1E,EAA6E,IAA7E,EAAmF,EAAnF;AACAlF,IAAAA,EAAE,CAAC0B,qBAAH;AACH;;AAAC,MAAIb,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,SAAS,GAAGJ,GAAG,CAACM,SAAtB;AACApB,IAAAA,EAAE,CAAC2F,qBAAH,CAAyB,cAAzB,EAAyCzE,SAAS,CAACW,IAAnD;AACH;AAAE;;AACH,SAAS+D,qCAAT,CAA+C/E,EAA/C,EAAmDC,GAAnD,EAAwD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAClEb,IAAAA,EAAE,CAACyE,SAAH,CAAa,CAAb,EAAgB,IAAhB,EAAsB,EAAtB;AACH;AAAE;;AACH,SAASoB,qCAAT,CAA+ChF,EAA/C,EAAmDC,GAAnD,EAAwD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAClEb,IAAAA,EAAE,CAACyE,SAAH,CAAa,CAAb,EAAgB,IAAhB,EAAsB,EAAtB;AACH;AAAE;;AACH,OAAO,MAAMqB,uBAAN,CAA8B;AACjC;AACAC,EAAAA,WAAW,CAACC,MAAD,EAASC,EAAT,EAAaC,SAAb,EAAwB;AAC/B,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,UAAL,GAAkB,IAAIvG,YAAJ,EAAlB;AACA,SAAKyE,YAAL,GAAoB,IAAIxE,SAAJ,CAAc,EAAd,CAApB;AACA,SAAKuG,UAAL,GAAkB,EAAlB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,oBAAL,GAA4B,EAA5B;AACH;;AACoB,MAAjBC,iBAAiB,CAACxE,KAAD,EAAQ;AACzB,QAAIA,KAAJ,EAAW;AACP,WAAKyE,UAAL,GAAkBzE,KAAK,CAAC,CAAD,CAAvB;AACA,WAAKoE,UAAL,GAAkBpE,KAAK,CAAC,CAAD,CAAvB;AACA,WAAKsE,cAAL,GAAsB,EAAtB;AACA,WAAKC,oBAAL,GAA4B,EAA5B;AACA,WAAKG,QAAL,GAAgB,IAAhB;AACA,WAAKL,KAAL,GAAa,EAAb;AACA,WAAKM,UAAL,GAPO,CAQP;AACH,KATD,MAUK;AACD,WAAKF,UAAL,GAAkB,IAAlB;AACA,WAAKL,UAAL,GAAkB,EAAlB;AACH;AACJ;;AACDQ,EAAAA,QAAQ,GAAG,CACV;;AACDD,EAAAA,UAAU,GAAG;AACT,QAAIE,SAAS,GAAG,KAAhB;AACA,SAAKT,UAAL,CAAgBU,OAAhB,CAAwBC,OAAO,IAAI;AAC/B,UAAI,CAAC,OAAD,EAAU,OAAV,EAAmBC,QAAnB,CAA4BD,OAAO,CAACpD,IAApC,CAAJ,EAA+C;AAC3C,aAAKgB,KAAL,GAAaoC,OAAb;AACAF,QAAAA,SAAS,GAAG,IAAZ;AACA,aAAKJ,UAAL,CAAgBK,OAAhB,CAAwBG,GAAG,IAAI;AAC3B,gBAAMC,OAAO,GAAG,KAAKjB,EAAL,CAAQiB,OAAR,CAAgB,IAAhB,CAAhB;AACA,eAAK7C,YAAL,CAAkB8C,UAAlB,CAA6BF,GAAG,CAAC,IAAD,CAAhC,EAAwCC,OAAxC;AACH,SAHD;;AAIA,YAAI,KAAKvC,KAAL,CAAWI,OAAf,EAAwB;AACpB,eAAKqC,gBAAL,GAAwBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKb,UAAvB,CAAxB;AACH;AACJ;AACJ,KAZD;AAaA,QAAIc,OAAO,GAAG,KAAd;AACA,SAAKnB,UAAL,CAAgBU,OAAhB,CAAwBC,OAAO,IAAI;AAC/B,UAAIA,OAAO,CAACpD,IAAR,KAAiB,SAArB,EAAgC;AAC5B4D,QAAAA,OAAO,GAAG,IAAV;AACH,OAFD,MAGK,IAAIR,OAAO,CAACpD,IAAR,KAAiB,UAArB,EAAiC;AAClC,YAAIkD,SAAJ,EAAe;AACX,eAAKW,uBAAL,CAA6BT,OAA7B;AACH,SAFD,MAGK;AACD,eAAKU,sBAAL,CAA4BV,OAA5B;AACH;AACJ,OAPI,MAQA;AACD,aAAKR,oBAAL,CAA0BmB,IAA1B,CAA+BX,OAA/B;AACA,aAAKT,cAAL,CAAoBoB,IAApB,CAAyBX,OAAO,CAAClF,IAAjC;AACH;AACJ,KAhBD;;AAiBA,QAAI0F,OAAJ,EAAa;AACT,WAAKI,OAAL,CAAaC,CAAC,IAAIA,CAAC,CAAC,IAAD,CAAnB,EAA2B,IAA3B;AACA,WAAKlB,QAAL,GAAgB,IAAhB;AACH;;AACD,SAAKH,oBAAL,CAA0BO,OAA1B,CAAkCC,OAAO,IAAI;AACzC,UAAIA,OAAO,CAACvB,KAAR,KAAkBuB,OAAO,CAAClF,IAA9B,EAAoC;AAChC,aAAK8F,OAAL,CAAaC,CAAC,IAAIA,CAAC,CAACb,OAAO,CAAClF,IAAT,CAAnB,EAAmCkF,OAAO,CAAClF,IAA3C;AACA,aAAK6E,QAAL,GAAgBK,OAAO,CAAClF,IAAxB;AACH;AACJ,KALD;AAMH;;AACD2F,EAAAA,uBAAuB,CAACT,OAAD,EAAU;AAC7B,QAAIc,GAAG,GAAG,EAAV;AACA,SAAKpB,UAAL,CAAgBK,OAAhB,CAAwBgB,IAAI,IAAI;AAC5BA,MAAAA,IAAI,CAACf,OAAO,CAAClF,IAAT,CAAJ,CAAmBiF,OAAnB,CAA2BiB,GAAG,IAAI;AAC9B,YAAIC,MAAM,GAAGX,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBS,GAAlB,EAAuBD,IAAvB,CAAb;AACA,eAAOE,MAAM,CAACjB,OAAO,CAAClF,IAAT,CAAb;AACAgG,QAAAA,GAAG,CAACH,IAAJ,CAASM,MAAT;AACH,OAJD;AAKH,KAND;AAOA,SAAKvB,UAAL,GAAkBoB,GAAlB;AACAd,IAAAA,OAAO,CAAC7D,WAAR,CAAoB4D,OAApB,CAA4BmB,MAAM,IAAI;AAClC,UAAIA,MAAM,CAACtE,IAAP,KAAgB,UAApB,EAAgC;AAC5B,aAAK6D,uBAAL,CAA6BS,MAA7B;AACH,OAFD,MAGK;AACD,aAAK1B,oBAAL,CAA0BmB,IAA1B,CAA+BO,MAA/B;AACA,aAAK3B,cAAL,CAAoBoB,IAApB,CAAyBO,MAAM,CAACpG,IAAhC;AACH;AACJ,KARD;AASH;;AACD4F,EAAAA,sBAAsB,CAACV,OAAD,EAAU;AAC5B,QAAIc,GAAG,GAAG,EAAV;AACA,SAAKpB,UAAL,CAAgBK,OAAhB,CAAwBgB,IAAI,IAAI;AAC5BA,MAAAA,IAAI,CAACf,OAAO,CAAClF,IAAT,CAAJ,CAAmBiF,OAAnB,CAA2BiB,GAAG,IAAI;AAC9B,YAAIC,MAAM,GAAGX,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBQ,IAAlB,EAAwBC,GAAxB,CAAb;AACA,eAAOC,MAAM,CAACjB,OAAO,CAAClF,IAAT,CAAb;AACAgG,QAAAA,GAAG,CAACH,IAAJ,CAASM,MAAT;AACH,OAJD;AAKH,KAND;AAOA,SAAKvB,UAAL,GAAkBoB,GAAlB;AACA,QAAIhB,SAAS,GAAG,KAAhB;AACAE,IAAAA,OAAO,CAAC7D,WAAR,CAAoB4D,OAApB,CAA4BC,OAAO,IAAI;AACnC,UAAI,CAAC,OAAD,EAAU,OAAV,EAAmBC,QAAnB,CAA4BD,OAAO,CAACpD,IAApC,CAAJ,EAA+C;AAC3C,aAAKgB,KAAL,GAAaoC,OAAb;AACAF,QAAAA,SAAS,GAAG,IAAZ;AACA,aAAKJ,UAAL,CAAgBK,OAAhB,CAAwBG,GAAG,IAAI;AAC3B,gBAAMC,OAAO,GAAG,KAAKjB,EAAL,CAAQiB,OAAR,CAAgB,IAAhB,CAAhB;AACA,eAAK7C,YAAL,CAAkB8C,UAAlB,CAA6BF,GAAG,CAAC,IAAD,CAAhC,EAAwCC,OAAxC;AACH,SAHD;;AAIA,YAAI,KAAKvC,KAAL,CAAWI,OAAf,EAAwB;AACpB,eAAKqC,gBAAL,GAAwBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKb,UAAvB,CAAxB;AACH;AACJ;AACJ,KAZD;AAaAM,IAAAA,OAAO,CAAC7D,WAAR,CAAoB4D,OAApB,CAA4BmB,MAAM,IAAI;AAClC,UAAIA,MAAM,CAACtE,IAAP,KAAgB,UAApB,EAAgC;AAC5B,YAAIkD,SAAJ,EAAe;AACX,eAAKW,uBAAL,CAA6BT,OAA7B;AACH,SAFD,MAGK;AACD,eAAKU,sBAAL,CAA4BV,OAA5B;AACH;AACJ,OAPD,MAQK;AACD,aAAKR,oBAAL,CAA0BmB,IAA1B,CAA+BO,MAA/B;AACA,aAAK3B,cAAL,CAAoBoB,IAApB,CAAyBO,MAAM,CAACpG,IAAhC;AACH;AACJ,KAbD;AAcH;;AACD8F,EAAAA,OAAO,CAACO,QAAD,EAAWC,GAAX,EAAgB;AACnB,QAAI,KAAKzB,QAAT,EAAmB;AACf,UAAI0B,KAAK,GAAG,CAAZ;AACA,UAAIC,GAAG,GAAG,KAAKhC,KAAL,CAAW,CAAX,IAAgB,KAAKA,KAAL,CAAW,CAAX,EAAc,KAAKK,QAAnB,CAAhB,GAA+C,CAAzD;;AACA,aAAO2B,GAAG,GAAG,KAAK5B,UAAL,CAAgB6B,MAA7B,EAAqC;AACjC,aAAKC,QAAL,CAAcL,QAAd,EAAwBC,GAAxB,EAA6BC,KAA7B,EAAoCC,GAApC;AACAD,QAAAA,KAAK,GAAGC,GAAR;AACAA,QAAAA,GAAG,IAAI,KAAKhC,KAAL,CAAW+B,KAAX,EAAkB,KAAK1B,QAAvB,CAAP;AACH;;AACD,WAAK6B,QAAL,CAAcL,QAAd,EAAwBC,GAAxB,EAA6BC,KAA7B,EAAoC,KAAK3B,UAAL,CAAgB6B,MAApD;AACH,KATD,MAUK;AACD,WAAKC,QAAL,CAAcL,QAAd,EAAwBC,GAAxB,EAA6B,CAA7B,EAAgC,KAAK1B,UAAL,CAAgB6B,MAAhD;AACH;AACJ;;AACDC,EAAAA,QAAQ,CAACL,QAAD,EAAWC,GAAX,EAAgBC,KAAhB,EAAuBC,GAAvB,EAA4B;AAChC,SAAK,IAAIG,CAAC,GAAGJ,KAAb,EAAoBI,CAAC,GAAGH,GAAxB,GAA8B;AAC1B,UAAII,YAAY,GAAGP,QAAQ,CAAC,KAAKzB,UAAL,CAAgB+B,CAAhB,CAAD,CAA3B;AACA,UAAIE,KAAK,GAAG,CAAZ,CAF0B,CAG1B;AACA;;AACA,WAAK,IAAIC,CAAC,GAAGH,CAAC,GAAG,CAAjB,EAAoBG,CAAC,GAAGN,GAAxB,EAA6BM,CAAC,EAA9B,EAAkC;AAC9B,YAAI,CAAC7I,OAAO,CAAC2I,YAAD,EAAeP,QAAQ,CAAC,KAAKzB,UAAL,CAAgBkC,CAAhB,CAAD,CAAvB,CAAZ,EAA0D;AACtD;AACH;;AACDD,QAAAA,KAAK;AACR;;AACD,UAAI,CAAC,KAAKrC,KAAL,CAAWmC,CAAX,CAAL,EAAoB;AAChB,aAAKnC,KAAL,CAAWmC,CAAX,IAAgB,EAAhB;AACH,OAbyB,CAc1B;AACA;;;AACA,WAAKnC,KAAL,CAAWmC,CAAX,EAAcL,GAAd,IAAqBO,KAArB;AACAF,MAAAA,CAAC,IAAIE,KAAL;AACH;AACJ;;AACDnD,EAAAA,UAAU,CAACH,KAAD,EAAQ+C,GAAR,EAAa;AACnB,QAAI,CAACA,GAAL,EAAU;AACN,aAAO,CAAP;AACH;;AACD,WAAO,KAAK9B,KAAL,CAAWjB,KAAX,KAAqB,KAAKiB,KAAL,CAAWjB,KAAX,EAAkB+C,GAAlB,CAA5B;AACH;;AACDS,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACZA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,eAAN;;AACA,QAAI,KAAK1E,YAAL,CAAkB2E,KAAtB,EAA6B;AACzB,UAAIC,KAAK,GAAG,KAAK5E,YAAL,CAAkBrC,KAA9B;AACA,YAAMkH,IAAI,GAAG7B,MAAM,CAAC8B,IAAP,CAAYF,KAAZ,CAAb;AACAC,MAAAA,IAAI,CAACpC,OAAL,CAAaC,OAAO,IAAI;AACpB,YAAI,CAACkC,KAAK,CAAClC,OAAD,CAAV,EAAqB;AACjB,iBAAOkC,KAAK,CAAClC,OAAD,CAAZ;AACH;AACJ,OAJD;AAKA,WAAKZ,UAAL,CAAgBiD,IAAhB,CAAqBH,KAArB;AACH,KATD,MAUK;AACD,WAAK/C,SAAL,CAAemD,IAAf,CAAoB,oCAApB,EAA0D,IAA1D,EAAgE;AAC5DC,QAAAA,QAAQ,EAAE,IADkD;AAE5D;AACAC,QAAAA,gBAAgB,EAAE;AAH0C,OAAhE;AAKH;;AACD,SAAKlF,YAAL,CAAkBmF,gBAAlB;AACH;;AACDC,EAAAA,OAAO,GAAG;AACN,SAAK7C,QAAL;AACH;;AACDzC,EAAAA,SAAS,CAAC4C,OAAD,EAAU;AACf,UAAM2C,QAAQ,GAAG3C,OAAO,CAAC,IAAD,CAAP,CAAcxC,QAAd,EAAjB;AACA,QAAIoF,MAAM,GAAG,IAAb;;AACA,QAAI,KAAKtF,YAAL,CAAkBC,GAAlB,CAAsBoF,QAAtB,EAAgC1H,KAApC,EAA2C;AACvC2H,MAAAA,MAAM,GAAG,KAAKtF,YAAL,CAAkBC,GAAlB,CAAsBoF,QAAtB,EAAgC1H,KAAzC;AACH,KAFD,MAGK,IAAI,KAAK2C,KAAL,CAAWI,OAAf,EAAwB;AACzB,YAAM6E,OAAO,GAAG,KAAKxC,gBAAL,CAAsByC,IAAtB,CAA2B5C,GAAG,IAAIA,GAAG,CAAC,IAAD,CAAH,KAAcF,OAAO,CAAC,IAAD,CAAvD,CAAhB;AACA4C,MAAAA,MAAM,GAAGC,OAAT;AACH;;AACD,UAAME,SAAS,GAAG,KAAK9D,MAAL,CAAYqD,IAAZ,CAAiBtJ,eAAjB,EAAkC;AAChDgK,MAAAA,KAAK,EAAE,KADyC;AAEhDC,MAAAA,MAAM,EAAE,KAFwC;AAGhDC,MAAAA,IAAI,EAAE;AAAEtF,QAAAA,KAAK,EAAE,KAAKA,KAAd;AACFuF,QAAAA,QAAQ,EAAEP;AADR;AAH0C,KAAlC,CAAlB;AAMAG,IAAAA,SAAS,CAACK,WAAV,GAAwBC,SAAxB,CAAkCC,MAAM,IAAI;AACxC,UAAIA,MAAM,IAAIA,MAAM,KAAK,QAAzB,EAAmC;AAC/B,aAAKhG,YAAL,CAAkBC,GAAlB,CAAsBoF,QAAtB,EAAgCY,QAAhC,CAAyCD,MAAzC;AACH;AACJ,KAJD;AAKH;;AACD3H,EAAAA,OAAO,CAACqF,GAAD,EAAM;AACT,WAAOwC,KAAK,CAAC7H,OAAN,CAAcqF,GAAd,CAAP;AACH;;AAjOgC;;AAmOrCjC,uBAAuB,CAAC0E,IAAxB,GAA+B,SAASC,+BAAT,CAAyCC,CAAzC,EAA4C;AAAE,SAAO,KAAKA,CAAC,IAAI5E,uBAAV,EAAmC9F,EAAE,CAAC2K,iBAAH,CAAqB1K,EAAE,CAAC2K,SAAxB,CAAnC,EAAuE5K,EAAE,CAAC2K,iBAAH,CAAqBzK,EAAE,CAAC2K,WAAxB,CAAvE,EAA6G7K,EAAE,CAAC2K,iBAAH,CAAqBxK,EAAE,CAAC2K,WAAxB,CAA7G,CAAP;AAA4J,CAAzO;;AACAhF,uBAAuB,CAACiF,IAAxB,GAA+B,aAAc/K,EAAE,CAACgL,iBAAH,CAAqB;AAAErH,EAAAA,IAAI,EAAEmC,uBAAR;AAAiCmF,EAAAA,SAAS,EAAE,CAAC,CAAC,kBAAD,CAAD,CAA5C;AAAoEC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE,OAAT;AAAkB3E,IAAAA,iBAAiB,EAAE;AAArC,GAA5E;AAAwI4E,EAAAA,OAAO,EAAE;AAAEjF,IAAAA,UAAU,EAAE;AAAd,GAAjJ;AAA+KkF,EAAAA,KAAK,EAAE,EAAtL;AAA0LC,EAAAA,IAAI,EAAE,CAAhM;AAAmMC,EAAAA,MAAM,EAAE,YAAY;AAAE,QAAIC,MAAJ;;AAAY,QAAI,OAAOC,iBAAP,KAA6B,WAA7B,IAA4CA,iBAAhD,EAAmE;AAClW,YAAMC,6FAA6F,GAAGC,IAAI,CAACC,MAAL,CAAY,QAAZ,CAAtG;AACAJ,MAAAA,MAAM,GAAGE,6FAAT;AACH,KAHkS,MAI9R;AACDF,MAAAA,MAAM,WAAN;AACH;;AAAC,QAAIK,MAAJ;;AAAY,QAAI,OAAOJ,iBAAP,KAA6B,WAA7B,IAA4CA,iBAAhD,EAAmE;AAC7E,YAAMK,8FAA8F,GAAGH,IAAI,CAACC,MAAL,CAAY,OAAZ,CAAvG;AACAC,MAAAA,MAAM,GAAGC,8FAAT;AACH,KAHa,MAIT;AACDD,MAAAA,MAAM,UAAN;AACH;;AAAC,WAAO,CAAC,CAAC,CAAD,EAAI,WAAJ,EAAiB,QAAjB,CAAD,EAA6B,CAAC,WAAD,EAAc,EAAd,EAAkB,CAAlB,EAAqB,kBAArB,EAAyC,CAAzC,EAA4C,YAA5C,CAA7B,EAAwF,CAAC,CAAD,EAAI,cAAJ,EAAoB,CAApB,EAAuB,OAAvB,EAAgC,SAAhC,CAAxF,EAAoI,CAAC,gBAAD,EAAmB,EAAnB,EAAuB,CAAvB,EAA0B,iBAA1B,CAApI,EAAkL,CAAC,SAAD,EAAY,EAAZ,EAAgB,CAAhB,EAAmB,WAAnB,EAAgC,kBAAhC,CAAlL,EAAuO,CAAC,CAAD,EAAI,YAAJ,EAAkB,CAAlB,EAAqB,YAArB,EAAmC,OAAnC,CAAvO,EAAoR,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,EAAwC,EAAxC,EAA4C,OAA5C,EAAqD,SAArD,EAAgE,CAAhE,EAAmE,WAAnE,EAAgF,OAAhF,EAAyF,cAAzF,EAAyG,MAAzG,CAApR,EAAsYL,MAAtY,EAA8Y,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,EAAwC,EAAxC,EAA4C,OAA5C,EAAqD,SAArD,EAAgE,CAAhE,EAAmE,WAAnE,EAAgF,OAAhF,EAAyF,CAAzF,EAA4F,OAA5F,CAA9Y,EAAofK,MAApf,EAA4f,CAAC,CAAD,EAAI,cAAJ,CAA5f,EAAihB,CAAC,iBAAD,EAAoB,EAApB,EAAwB,CAAxB,EAA2B,kBAA3B,CAAjhB,EAAikB,CAAC,UAAD,EAAa,EAAb,EAAiB,OAAjB,EAA0B,+FAA1B,EAA2H,CAA3H,EAA8H,SAA9H,EAAyI,CAAzI,EAA4I,YAA5I,CAAjkB,EAA4tB,CAAC,iBAAD,EAAoB,EAApB,CAA5tB,EAAqvB,CAAC,UAAD,EAAa,EAAb,EAAiB,CAAjB,EAAoB,gBAApB,EAAsC,KAAtC,EAA6C,cAA7C,EAA6D,MAA7D,EAAqE,aAArE,EAAoF,MAApF,CAArvB,EAAk1B,CAAC,CAAD,EAAI,MAAJ,CAAl1B,EAA+1B,CAAC,CAAD,EAAI,UAAJ,CAA/1B,EAAg3B,CAAC,CAAD,EAAI,cAAJ,CAAh3B,EAAq4B,CAAC,OAAD,EAAU,iBAAV,EAA6B,CAA7B,EAAgC,MAAhC,EAAwC,UAAxC,CAAr4B,EAA07B,CAAC,WAAD,EAAc,EAAd,CAA17B,EAA68B,CAAC,CAAD,EAAI,SAAJ,EAAe,QAAf,CAA78B,EAAu+B,CAAC,CAAD,EAAI,OAAJ,EAAa,SAAb,CAAv+B,EAAggC,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,EAAwC,EAAxC,EAA4C,OAA5C,EAAqD,QAArD,EAA+D,CAA/D,EAAkE,OAAlE,CAAhgC,EAA4kC,CAAC,CAAD,EAAI,QAAJ,CAA5kC,EAA2lC,CAAC,CAAD,EAAI,WAAJ,CAA3lC,EAA6mC,CAAC,UAAD,EAAa,EAAb,EAAiB,WAAjB,EAA8B,KAA9B,EAAqC,CAArC,EAAwC,iBAAxC,EAA2D,MAA3D,EAAmE,CAAnE,EAAsE,MAAtE,CAA7mC,EAA4rC,CAAC,UAAD,EAAa,EAAb,EAAiB,SAAjB,EAA4B,EAA5B,EAAgC,MAAhC,EAAwC,MAAxC,EAAgD,WAAhD,EAA6D,KAA7D,EAAoE,CAApE,EAAuE,iBAAvE,EAA0F,UAA1F,EAAsG,CAAtG,EAAyG,MAAzG,CAA5rC,EAA8yC,CAAC,UAAD,EAAa,EAAb,EAAiB,WAAjB,EAA8B,KAA9B,EAAqC,CAArC,EAAwC,iBAAxC,EAA2D,MAA3D,CAA9yC,EAAk3C,CAAC,UAAD,EAAa,EAAb,EAAiB,SAAjB,EAA4B,EAA5B,EAAgC,MAAhC,EAAwC,MAAxC,EAAgD,WAAhD,EAA6D,KAA7D,EAAoE,CAApE,EAAuE,iBAAvE,EAA0F,UAA1F,CAAl3C,EAAy9C,CAAC,gBAAD,EAAmB,EAAnB,CAAz9C,EAAi/C,CAAC,SAAD,EAAY,EAAZ,CAAj/C,CAAP;AAA2gD,GAZ/8C;AAYi9CE,EAAAA,QAAQ,EAAE,SAASC,gCAAT,CAA0CnL,EAA1C,EAA8CC,GAA9C,EAAmD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACtlDb,MAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAf,MAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,MAAAA,EAAE,CAACiB,YAAH;AACAjB,MAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B;AACAf,MAAAA,EAAE,CAAC+D,UAAH,CAAc,QAAd,EAAwB,SAASkI,uDAAT,CAAiEC,MAAjE,EAAyE;AAAE,eAAOpL,GAAG,CAAC8H,QAAJ,CAAasD,MAAb,CAAP;AAA8B,OAAjI;AACAlM,MAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,CAA9B;AACAf,MAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiBwD,+CAAjB,EAAkE,CAAlE,EAAqE,CAArE,EAAwE,cAAxE,EAAwF,CAAxF;AACA1F,MAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiB0D,qCAAjB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,IAA9D,EAAoE,CAApE;AACA5F,MAAAA,EAAE,CAACkC,UAAH,CAAc,CAAd,EAAiB2D,qCAAjB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,IAA9D,EAAoE,CAApE;AACA7F,MAAAA,EAAE,CAACiB,YAAH;AACAjB,MAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAf,MAAAA,EAAE,CAACe,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,CAA/B;AACAf,MAAAA,EAAE,CAACmM,MAAH,CAAU,CAAV,EAAa,CAAb;AACAnM,MAAAA,EAAE,CAACiB,YAAH;AACAjB,MAAAA,EAAE,CAACe,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC;AACAf,MAAAA,EAAE,CAAC+D,UAAH,CAAc,OAAd,EAAuB,SAASqI,yDAAT,GAAqE;AAAE,eAAOtL,GAAG,CAAC2I,OAAJ,EAAP;AAAuB,OAArH;AACAzJ,MAAAA,EAAE,CAACmM,MAAH,CAAU,EAAV,EAAc,CAAd;AACAnM,MAAAA,EAAE,CAACiB,YAAH;AACAjB,MAAAA,EAAE,CAACiB,YAAH;AACAjB,MAAAA,EAAE,CAACiB,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACVb,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACsB,iBAAH,CAAqBR,GAAG,CAACqK,KAAzB;AACAnL,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACmC,UAAH,CAAc,WAAd,EAA2BrB,GAAG,CAACuD,YAA/B;AACArE,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACmC,UAAH,CAAc,YAAd,EAA4BrB,GAAG,CAAC2F,UAAhC;AACAzG,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACmC,UAAH,CAAc,SAAd,EAAyBrB,GAAG,CAACyF,oBAA7B;AACAvG,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACmC,UAAH,CAAc,iBAAd,EAAiCrB,GAAG,CAACwF,cAArC;AACAtG,MAAAA,EAAE,CAACqB,SAAH,CAAa,CAAb;AACArB,MAAAA,EAAE,CAACmC,UAAH,CAAc,kBAAd,EAAkCrB,GAAG,CAACwF,cAAtC;AACH;AAAE,GA9C2D;AA8CzD+F,EAAAA,UAAU,EAAE,CAACnM,EAAE,CAACoM,aAAJ,EAAmBpM,EAAE,CAACqM,oBAAtB,EAA4CrM,EAAE,CAACsM,kBAA/C,EAAmEpM,EAAE,CAACqM,QAAtE,EAAgFpM,EAAE,CAACqM,OAAnF,EAA4FtM,EAAE,CAACuM,eAA/F,EAAgHvM,EAAE,CAACwM,SAAnH,EAA8HtM,EAAE,CAACuM,SAAjI,EAA4IzM,EAAE,CAAC0M,YAA/I,EAA6J1M,EAAE,CAAC2M,gBAAhK,EAAkL3M,EAAE,CAAC4M,UAArL,EAAiM5M,EAAE,CAAC6M,aAApM,EAAmN7M,EAAE,CAAC8M,OAAtN,EAA+N7M,EAAE,CAAC8M,IAAlO,EAAwO9M,EAAE,CAAC+M,QAA3O,EAAqP/M,EAAE,CAACgN,YAAxP,EAAsQ9M,EAAE,CAAC+M,WAAzQ,EAAsR/M,EAAE,CAACgN,OAAzR,EAAkS/M,EAAE,CAACgN,OAArS,EAA8S/M,EAAE,CAACgN,YAAjT,EAA+T/M,GAAG,CAACgN,QAAnU,EAA6UxN,EAAE,CAACyN,oBAAhV,EAAsWzN,EAAE,CAAC0N,kBAAzW,EAA6X1N,EAAE,CAAC2N,eAAhY,EAAiZ3N,EAAE,CAAC4N,eAApZ,EAAqanN,GAAG,CAACoN,gBAAza,EAA2b3N,EAAE,CAAC4N,YAA9b,EAA4c5N,EAAE,CAAC6N,MAA/c,CA9C6C;AA8C2aC,EAAAA,KAAK,EAAE,CAAC7N,EAAE,CAAC8N,QAAJ,EAAc9N,EAAE,CAAC+N,YAAjB,CA9Clb;AA8CkdC,EAAAA,MAAM,EAAE,CAAC,gvCAAD;AA9C1d,CAArB,CAA7C","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { isEqual } from 'lodash-es';\r\nimport { PopupformDialog } from '../popupform/popupform.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/material/snack-bar\";\r\nimport * as i4 from \"@angular/material/table\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/material/button\";\r\nimport * as i7 from \"@angular/material/chips\";\r\nimport * as i8 from \"@angular/material/icon\";\r\nimport * as i9 from \"@angular/material/form-field\";\r\nimport * as i10 from \"@angular/material/input\";\r\nimport * as i11 from \"../../libraries/numeric.directive\";\r\nfunction TableInfoGroupComponent_ng_container_4_th_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 13);\r\n    i0.ɵɵelementStart(1, \"h3\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(column_r3.label);\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", element_r7[column_r3.name], \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_mat_chip_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-chip\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const symbol_r26 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"\", symbol_r26.value, \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 20);\r\n    i0.ɵɵelementStart(1, \"mat-chip-list\");\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_mat_chip_2_Template, 2, 1, \"mat-chip\", 21);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(3).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", element_r7[column_r3.name]);\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_ng_template_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵtext(0);\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(3).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵtextInterpolate1(\" \", element_r7[column_r3.name][\"value\"], \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_div_1_Template, 3, 1, \"div\", 18);\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_ng_template_2_Template, 1, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const _r23 = i0.ɵɵreference(3);\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    const ctx_r13 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.isArray(element_r7[column_r3.name]))(\"ngIfElse\", _r23);\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"date\");\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r7[column_r3.name], \"medium\"), \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"date\");\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, element_r7[column_r3.name]), \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate2(\" \", element_r7[column_r3.name][\"value\"], \", \", element_r7[column_r3.name][column_r3.collections], \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"currency\");\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r7[column_r3.name], element_r7[column_r3.collections]), \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate2(\" \", element_r7[column_r3.name], \" \", element_r7[column_r3.collections], \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_mat_icon_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-icon\");\r\n    i0.ɵɵtext(1, \"done\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nconst _c4 = function (a0) { return [a0]; };\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_mat_icon_1_Template, 2, 0, \"mat-icon\", 15);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", element_r7[column_r3.name] == i0.ɵɵpureFunction1(1, _c4, column_r3.collections));\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementContainerStart(1, 16);\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_2_Template, 2, 1, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_3_Template, 4, 2, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(4, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_4_Template, 3, 4, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(5, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_5_Template, 3, 3, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(6, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_6_Template, 2, 2, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(7, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_7_Template, 3, 4, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(8, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_8_Template, 2, 2, \"ng-container\", 17);\r\n    i0.ɵɵtemplate(9, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_ng_container_9_Template, 2, 3, \"ng-container\", 17);\r\n    i0.ɵɵelementContainerEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const column_r3 = i0.ɵɵnextContext(2).$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitch\", column_r3.type);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"normal\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"nameId\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"dateTime\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"date\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"name2\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"currency\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"weight\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngSwitchCase\", \"check\");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r49 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"button\", 22);\r\n    i0.ɵɵlistener(\"click\", function TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template_button_click_1_listener() { i0.ɵɵrestoreView(_r49); const element_r7 = i0.ɵɵnextContext().$implicit; const ctx_r47 = i0.ɵɵnextContext(2); return ctx_r47.popupForm(element_r7); });\r\n    i0.ɵɵelementStart(2, \"span\", 23);\r\n    i0.ɵɵelementStart(3, \"mat-icon\");\r\n    i0.ɵɵtext(4, \"done\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext().$implicit;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    const ctx_r10 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"hidden\", !ctx_r10.arrayControl.get(element_r7[\"id\"].toString()).value);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", column_r3.label, \" \");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"input\", 27);\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const ctx_r52 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"formControlName\", element_r7[\"id\"])(\"type\", ctx_r52.field.inputType);\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"input\", 28);\r\n} if (rf & 2) {\r\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\r\n    const ctx_r53 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"formControlName\", element_r7[\"id\"])(\"decimals\", ctx_r53.field.options);\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"mat-form-field\", 24);\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_2_Template, 1, 2, \"input\", 25);\r\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_input_3_Template, 1, 2, \"input\", 26);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const ctx_r11 = i0.ɵɵnextContext(3);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.field.inputType !== \"numeric\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.field.inputType === \"numeric\");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_td_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 14);\r\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_td_2_ng_container_1_Template, 10, 9, \"ng-container\", 15);\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_ng_container_2_Template, 6, 2, \"ng-container\", 15);\r\n    i0.ɵɵtemplate(3, TableInfoGroupComponent_ng_container_4_td_2_ng_container_3_Template, 4, 2, \"ng-container\", 15);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r7 = ctx.$implicit;\r\n    const i_r8 = ctx.index;\r\n    const column_r3 = i0.ɵɵnextContext().$implicit;\r\n    const ctx_r5 = i0.ɵɵnextContext();\r\n    i0.ɵɵstyleProp(\"display\", ctx_r5.getRowSpan(i_r8, column_r3.group) ? \"\" : \"none\");\r\n    i0.ɵɵattribute(\"rowspan\", ctx_r5.getRowSpan(i_r8, column_r3.group));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", element_r7[column_r3.name]);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", column_r3.type === \"popup\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", column_r3.type === \"input\");\r\n} }\r\nfunction TableInfoGroupComponent_ng_container_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 10);\r\n    i0.ɵɵtemplate(1, TableInfoGroupComponent_ng_container_4_th_1_Template, 3, 1, \"th\", 11);\r\n    i0.ɵɵtemplate(2, TableInfoGroupComponent_ng_container_4_td_2_Template, 4, 6, \"td\", 12);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const column_r3 = ctx.$implicit;\r\n    i0.ɵɵpropertyInterpolate(\"matColumnDef\", column_r3.name);\r\n} }\r\nfunction TableInfoGroupComponent_tr_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 29);\r\n} }\r\nfunction TableInfoGroupComponent_tr_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 30);\r\n} }\r\nexport class TableInfoGroupComponent {\r\n    //   componentRef: any;\r\n    constructor(dialog, fb, _snackBar) {\r\n        this.dialog = dialog;\r\n        this.fb = fb;\r\n        this._snackBar = _snackBar;\r\n        this.submitForm = new EventEmitter();\r\n        this.arrayControl = new FormGroup({});\r\n        this.oneColumns = [];\r\n        this.spans = [];\r\n        this.columnsDisplay = [];\r\n        this.localGroupOneColumns = [];\r\n    }\r\n    set mainDetailsSource(value) {\r\n        if (value) {\r\n            this.dataSource = value[0];\r\n            this.oneColumns = value[1];\r\n            this.columnsDisplay = [];\r\n            this.localGroupOneColumns = [];\r\n            this.lastSpan = null;\r\n            this.spans = [];\r\n            this.preperData();\r\n            // this.dataSource = this.dataSource;\r\n        }\r\n        else {\r\n            this.dataSource = null;\r\n            this.oneColumns = [];\r\n        }\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    preperData() {\r\n        var thisLavel = false;\r\n        this.oneColumns.forEach(element => {\r\n            if (['popup', 'input'].includes(element.type)) {\r\n                this.field = element;\r\n                thisLavel = true;\r\n                this.dataSource.forEach(ele => {\r\n                    const control = this.fb.control(null);\r\n                    this.arrayControl.addControl(ele['id'], control);\r\n                });\r\n                if (this.field.options) {\r\n                    this.dataCopyForGroup = Object.assign([], this.dataSource);\r\n                }\r\n            }\r\n        });\r\n        var groupId = false;\r\n        this.oneColumns.forEach(element => {\r\n            if (element.type === 'idGroup') {\r\n                groupId = true;\r\n            }\r\n            else if (element.type === 'kidArray') {\r\n                if (thisLavel) {\r\n                    this.takeCareKidArrayOutside(element);\r\n                }\r\n                else {\r\n                    this.takeCareKidArrayInside(element);\r\n                }\r\n            }\r\n            else {\r\n                this.localGroupOneColumns.push(element);\r\n                this.columnsDisplay.push(element.name);\r\n            }\r\n        });\r\n        if (groupId) {\r\n            this.spanRow(d => d['id'], 'id');\r\n            this.lastSpan = 'id';\r\n        }\r\n        this.localGroupOneColumns.forEach(element => {\r\n            if (element.group === element.name) {\r\n                this.spanRow(d => d[element.name], element.name);\r\n                this.lastSpan = element.name;\r\n            }\r\n        });\r\n    }\r\n    takeCareKidArrayOutside(element) {\r\n        var arr = [];\r\n        this.dataSource.forEach(line => {\r\n            line[element.name].forEach(obj => {\r\n                var copied = Object.assign({}, obj, line);\r\n                delete copied[element.name];\r\n                arr.push(copied);\r\n            });\r\n        });\r\n        this.dataSource = arr;\r\n        element.collections.forEach(second => {\r\n            if (second.type === 'kidArray') {\r\n                this.takeCareKidArrayOutside(second);\r\n            }\r\n            else {\r\n                this.localGroupOneColumns.push(second);\r\n                this.columnsDisplay.push(second.name);\r\n            }\r\n        });\r\n    }\r\n    takeCareKidArrayInside(element) {\r\n        var arr = [];\r\n        this.dataSource.forEach(line => {\r\n            line[element.name].forEach(obj => {\r\n                var copied = Object.assign({}, line, obj);\r\n                delete copied[element.name];\r\n                arr.push(copied);\r\n            });\r\n        });\r\n        this.dataSource = arr;\r\n        var thisLavel = false;\r\n        element.collections.forEach(element => {\r\n            if (['popup', 'input'].includes(element.type)) {\r\n                this.field = element;\r\n                thisLavel = true;\r\n                this.dataSource.forEach(ele => {\r\n                    const control = this.fb.control(null);\r\n                    this.arrayControl.addControl(ele['id'], control);\r\n                });\r\n                if (this.field.options) {\r\n                    this.dataCopyForGroup = Object.assign([], this.dataSource);\r\n                }\r\n            }\r\n        });\r\n        element.collections.forEach(second => {\r\n            if (second.type === 'kidArray') {\r\n                if (thisLavel) {\r\n                    this.takeCareKidArrayOutside(element);\r\n                }\r\n                else {\r\n                    this.takeCareKidArrayInside(element);\r\n                }\r\n            }\r\n            else {\r\n                this.localGroupOneColumns.push(second);\r\n                this.columnsDisplay.push(second.name);\r\n            }\r\n        });\r\n    }\r\n    spanRow(accessor, key) {\r\n        if (this.lastSpan) {\r\n            var start = 0;\r\n            var end = this.spans[0] ? this.spans[0][this.lastSpan] : 0;\r\n            while (end < this.dataSource.length) {\r\n                this.spanWork(accessor, key, start, end);\r\n                start = end;\r\n                end += this.spans[start][this.lastSpan];\r\n            }\r\n            this.spanWork(accessor, key, start, this.dataSource.length);\r\n        }\r\n        else {\r\n            this.spanWork(accessor, key, 0, this.dataSource.length);\r\n        }\r\n    }\r\n    spanWork(accessor, key, start, end) {\r\n        for (let i = start; i < end;) {\r\n            let currentValue = accessor(this.dataSource[i]);\r\n            let count = 1;\r\n            // Iterate through the remaining rows to see how many match\r\n            // the current value as retrieved through the accessor.\r\n            for (let j = i + 1; j < end; j++) {\r\n                if (!isEqual(currentValue, accessor(this.dataSource[j]))) {\r\n                    break;\r\n                }\r\n                count++;\r\n            }\r\n            if (!this.spans[i]) {\r\n                this.spans[i] = {};\r\n            }\r\n            // Store the number of similar values that were found (the span)\r\n            // and skip i to the next unique row.\r\n            this.spans[i][key] = count;\r\n            i += count;\r\n        }\r\n    }\r\n    getRowSpan(index, key) {\r\n        if (!key) {\r\n            return 1;\r\n        }\r\n        return this.spans[index] && this.spans[index][key];\r\n    }\r\n    onSubmit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.arrayControl.valid) {\r\n            var final = this.arrayControl.value;\r\n            const rows = Object.keys(final);\r\n            rows.forEach(element => {\r\n                if (!final[element]) {\r\n                    delete final[element];\r\n                }\r\n            });\r\n            this.submitForm.emit(final);\r\n        }\r\n        else {\r\n            this._snackBar.open('please fill in all required fields', 'ok', {\r\n                duration: 5000,\r\n                // panelClass: 'blue-snackbar',\r\n                verticalPosition: 'top'\r\n            });\r\n        }\r\n        this.arrayControl.markAllAsTouched();\r\n    }\r\n    onReset() {\r\n        this.ngOnInit();\r\n    }\r\n    popupForm(element) {\r\n        const stringId = element['id'].toString();\r\n        var oldVal = null;\r\n        if (this.arrayControl.get(stringId).value) {\r\n            oldVal = this.arrayControl.get(stringId).value;\r\n        }\r\n        else if (this.field.options) {\r\n            const olddata = this.dataCopyForGroup.find(ele => ele['id'] === element['id']);\r\n            oldVal = olddata;\r\n        }\r\n        const dialogRef = this.dialog.open(PopupformDialog, {\r\n            width: '70%',\r\n            height: '70%',\r\n            data: { field: this.field,\r\n                oldValue: oldVal }\r\n        });\r\n        dialogRef.afterClosed().subscribe(result => {\r\n            if (result && result !== 'closed') {\r\n                this.arrayControl.get(stringId).setValue(result);\r\n            }\r\n        });\r\n    }\r\n    isArray(obj) {\r\n        return Array.isArray(obj);\r\n    }\r\n}\r\nTableInfoGroupComponent.ɵfac = function TableInfoGroupComponent_Factory(t) { return new (t || TableInfoGroupComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MatSnackBar)); };\r\nTableInfoGroupComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TableInfoGroupComponent, selectors: [[\"table-info-group\"]], inputs: { titel: \"titel\", mainDetailsSource: \"mainDetailsSource\" }, outputs: { submitForm: \"submitForm\" }, decls: 12, vars: 6, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_935187492052582731$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_1 = goog.getMsg(\"Submit\");\r\n        i18n_0 = MSG_EXTERNAL_935187492052582731$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟71c77bb8cecdf11ec3eead24dd1ba506573fa9cd␟935187492052582731:Submit`;\r\n    } let i18n_2; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_7808756054397155068$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_3 = goog.getMsg(\"Reset\");\r\n        i18n_2 = MSG_EXTERNAL_7808756054397155068$$SRC_APP_COMPONENTS_TABLESINPUT_TABLEINFOGROUP_COMPONENT_TS_3;\r\n    }\r\n    else {\r\n        i18n_2 = $localize `:␟06c663bf1474713f57551123a46b34318543b67d␟7808756054397155068:Reset`;\r\n    } return [[3, \"formGroup\", \"submit\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"margin-top\", 2, \"text-align\", \"right\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"min-width\", \"150px\", \"margin-right\", \"45px\"], i18n_0, [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"min-width\", \"150px\", 3, \"click\"], i18n_2, [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"style\", \"vertical-align: top;\\n                padding-left: 16px;\\n                padding-top: 14px;\", 3, \"display\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 2, \"vertical-align\", \"top\", \"padding-left\", \"16px\", \"padding-top\", \"14px\"], [4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"style\", \"display: inline\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [2, \"display\", \"inline\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [3, \"hidden\"], [1, \"one-field\"], [\"matInput\", \"\", \"maxlength\", \"255\", 3, \"formControlName\", \"type\", 4, \"ngIf\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\", 4, \"ngIf\"], [\"matInput\", \"\", \"maxlength\", \"255\", 3, \"formControlName\", \"type\"], [\"matInput\", \"\", \"numeric\", \"\", \"type\", \"text\", \"maxlength\", \"255\", 3, \"formControlName\", \"decimals\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]]; }, template: function TableInfoGroupComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h2\");\r\n        i0.ɵɵtext(1);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"form\", 0);\r\n        i0.ɵɵlistener(\"submit\", function TableInfoGroupComponent_Template_form_submit_2_listener($event) { return ctx.onSubmit($event); });\r\n        i0.ɵɵelementStart(3, \"table\", 1);\r\n        i0.ɵɵtemplate(4, TableInfoGroupComponent_ng_container_4_Template, 3, 1, \"ng-container\", 2);\r\n        i0.ɵɵtemplate(5, TableInfoGroupComponent_tr_5_Template, 1, 0, \"tr\", 3);\r\n        i0.ɵɵtemplate(6, TableInfoGroupComponent_tr_6_Template, 1, 0, \"tr\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 5);\r\n        i0.ɵɵelementStart(8, \"button\", 6);\r\n        i0.ɵɵi18n(9, 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"button\", 8);\r\n        i0.ɵɵlistener(\"click\", function TableInfoGroupComponent_Template_button_click_10_listener() { return ctx.onReset(); });\r\n        i0.ɵɵi18n(11, 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵtextInterpolate(ctx.titel);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.arrayControl);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.localGroupOneColumns);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsDisplay);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsDisplay);\r\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i4.MatTable, i5.NgForOf, i4.MatHeaderRowDef, i4.MatRowDef, i6.MatButton, i4.MatColumnDef, i4.MatHeaderCellDef, i4.MatCellDef, i4.MatHeaderCell, i4.MatCell, i5.NgIf, i5.NgSwitch, i5.NgSwitchCase, i7.MatChipList, i7.MatChip, i8.MatIcon, i9.MatFormField, i10.MatInput, i2.DefaultValueAccessor, i2.MaxLengthValidator, i2.NgControlStatus, i2.FormControlName, i11.NumericDirective, i4.MatHeaderRow, i4.MatRow], pipes: [i5.DatePipe, i5.CurrencyPipe], styles: [\"table[_ngcontent-%COMP%] {\\r\\n  text-align: center !important;\\r\\n  width: -webkit-fit-content;\\r\\n  width: -moz-fit-content;\\r\\n  width: fit-content;\\r\\n  min-width: 90%;\\r\\n}\\r\\n  \\r\\n  .mat-header-cell[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n  }\\r\\n  \\r\\n  .mat-row[_ngcontent-%COMP%]{\\r\\n      background-color: white;\\r\\n      }\\r\\n  \\r\\n  .mat-header-row[_ngcontent-%COMP%] {\\r\\n        background-color: white;\\r\\n      }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhYmxlc2luZm8uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLDZCQUE2QjtFQUM3QiwwQkFBa0I7RUFBbEIsdUJBQWtCO0VBQWxCLGtCQUFrQjtFQUNsQixjQUFjO0FBQ2hCOztFQUVFO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUdFO01BQ0UsdUJBQXVCO01BQ3ZCOztFQUNBO1FBQ0UsdUJBQXVCO01BQ3pCIiwiZmlsZSI6InRhYmxlc2luZm8uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnRhYmxlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgbWluLXdpZHRoOiA5MCU7XHJcbn1cclxuICBcclxuICAubWF0LWhlYWRlci1jZWxsIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLm1hdC1yb3d7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICB9XHJcbiAgICAgIC5tYXQtaGVhZGVyLXJvdyB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgIH1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}