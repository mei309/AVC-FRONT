{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"./reports.service\";\nimport * as i3 from \"../genral.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/tabs\";\nimport * as i6 from \"../tables/search-group-details.component\";\nexport class InventoryByTypeComponent {\n  constructor(dialog, localService, genral, _Activatedroute, cdRef, router) {\n    this.dialog = dialog;\n    this.localService = localService;\n    this.genral = genral;\n    this._Activatedroute = _Activatedroute;\n    this.cdRef = cdRef;\n    this.router = router;\n    this.tabIndex = 0;\n    this.ItemsChangable = new ReplaySubject();\n    this.totelAll = {\n      type: 'weight2',\n      name: 'totalBalance',\n      label: \"Sum\",\n      options: ['KG', 'LBS']\n    };\n  }\n\n  ngOnInit() {\n    this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n      if (params.get('number')) {\n        this.tabIndex = +params.get('number');\n        this.changed(+params.get('number'));\n      } else {\n        this.changed(0);\n      }\n    });\n\n    this.columnsShow = [{\n      type: 'nameId',\n      name: 'item',\n      label: \"Item\",\n      search: 'selectObjObj',\n      options: this.ItemsChangable,\n      group: 'item'\n    }, {\n      type: 'weight2',\n      name: 'totalStock',\n      label: \"Total item\",\n      search: 'objArray',\n      group: 'item'\n    }, {\n      type: 'nameId',\n      name: 'poCode',\n      label: \"PO#\",\n      search: 'object',\n      group: 'poCode'\n    }, {\n      name: 'supplierName',\n      label: \"Supplier\",\n      search: 'selectObj',\n      options: this.genral.getSuppliersCashew(),\n      group: 'poCode'\n    }, {\n      type: 'weight2',\n      name: 'totalBalance',\n      label: \"Amount\",\n      search: 'objArray' // group: 'poCode',\n\n    }, {\n      type: 'arrayVal',\n      name: 'warehouses',\n      label: \"Warehouse\",\n      search: 'selectObjArr',\n      options: this.genral.getWearhouses()\n    }, {\n      type: 'date',\n      name: 'receiptDate',\n      label: \"Receipt date\",\n      search: 'dates'\n    }, {\n      type: 'date',\n      name: 'processDate',\n      label: \"Process date\",\n      search: 'dates'\n    }, {\n      name: 'poInventoryRows',\n      type: 'kidArray'\n    }];\n    this.navigationSubscription = this.router.events.subscribe(e => {\n      // If it is a NavigationEnd event re-initalise the component\n      if (e instanceof NavigationEnd) {\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\n          if (params.get('number')) {\n            this.tabIndex = +params.get('number');\n          } else {\n            this.tabIndex = 0;\n          }\n\n          this.changed(this.tabIndex);\n        });\n      }\n    });\n  }\n\n  changed(event) {\n    switch (+event) {\n      case 0:\n        this.cashewSource = null;\n        this.localService.getCashewInventoryBullk().pipe(take(1)).subscribe(value => {\n          this.cashewSource = value;\n        });\n        this.localService.getBulkPackCashewItems('BULK').pipe(take(1)).subscribe(val => {\n          this.ItemsChangable.next(val);\n        });\n        this.cdRef.detectChanges();\n        break;\n\n      case 1:\n        this.cashewSource = null;\n        this.localService.getCashewInventoryPacked().pipe(take(1)).subscribe(value => {\n          this.cashewSource = value;\n        });\n        this.localService.getBulkPackCashewItems('PACKED').pipe(take(1)).subscribe(val => {\n          this.ItemsChangable.next(val);\n        });\n        this.cdRef.detectChanges();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.navigationSubscription) {\n      this.navigationSubscription.unsubscribe();\n    }\n\n    this.ItemsChangable.unsubscribe();\n  }\n\n}\n\nInventoryByTypeComponent.ɵfac = function InventoryByTypeComponent_Factory(t) {\n  return new (t || InventoryByTypeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ReportsService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.Router));\n};\n\nInventoryByTypeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InventoryByTypeComponent,\n  selectors: [[\"inventory-by-type\"]],\n  decls: 6,\n  vars: 5,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1787427028548828174$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_1 = goog.getMsg(\"Inventory Stock Report\");\n      i18n_0 = MSG_EXTERNAL_1787427028548828174$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"Inventory Stock Report\";\n    }\n\n    let i18n_2;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_1339712197179795142$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_3 = goog.getMsg(\"Cashew material stock\");\n      i18n_2 = MSG_EXTERNAL_1339712197179795142$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_3;\n    } else {\n      i18n_2 = \"Cashew material stock\";\n    }\n\n    let i18n_4;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_5697935554652014157$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_5 = goog.getMsg(\"Cashew items stock\");\n      i18n_4 = MSG_EXTERNAL_5697935554652014157$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_5;\n    } else {\n      i18n_4 = \"Cashew items stock\";\n    }\n\n    return [[2, \"text-align\", \"center\"], i18n_0, [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_2], [\"label\", i18n_4], [3, \"mainColumns\", \"detailsSource\", \"totelAll\", \"withPaginator\"]];\n  },\n  template: function InventoryByTypeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵi18n(1, 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"mat-tab-group\", 2);\n      i0.ɵɵlistener(\"selectedIndexChange\", function InventoryByTypeComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) {\n        return ctx.tabIndex = $event;\n      })(\"selectedIndexChange\", function InventoryByTypeComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) {\n        return ctx.changed($event);\n      });\n      i0.ɵɵelement(3, \"mat-tab\", 3);\n      i0.ɵɵelement(4, \"mat-tab\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"search-group-details\", 5);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.cashewSource)(\"totelAll\", ctx.totelAll)(\"withPaginator\", false);\n    }\n  },\n  directives: [i5.MatTabGroup, i5.MatTab, i6.SearchGroupDetailsComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/reports/inventory-by-type.component.ts"],"names":["NavigationEnd","ReplaySubject","take","i0","i1","i2","i3","i4","i5","i6","InventoryByTypeComponent","constructor","dialog","localService","genral","_Activatedroute","cdRef","router","tabIndex","ItemsChangable","totelAll","type","name","label","options","ngOnInit","paramMap","pipe","subscribe","params","get","changed","columnsShow","search","group","getSuppliersCashew","getWearhouses","navigationSubscription","events","e","event","cashewSource","getCashewInventoryBullk","value","getBulkPackCashewItems","val","next","detectChanges","getCashewInventoryPacked","ngOnDestroy","unsubscribe","ɵfac","InventoryByTypeComponent_Factory","t","ɵɵdirectiveInject","MatDialog","ReportsService","Genral","ActivatedRoute","ChangeDetectorRef","Router","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_1787427028548828174$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_1","goog","getMsg","i18n_2","MSG_EXTERNAL_1339712197179795142$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_3","i18n_4","MSG_EXTERNAL_5697935554652014157$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_5","template","InventoryByTypeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","ɵɵlistener","InventoryByTypeComponent_Template_mat_tab_group_selectedIndexChange_2_listener","$event","ɵɵelement","ɵɵadvance","ɵɵproperty","directives","MatTabGroup","MatTab","SearchGroupDetailsComponent","encapsulation"],"mappings":"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","sourcesContent":["import { NavigationEnd } from '@angular/router';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/material/dialog\";\r\nimport * as i2 from \"./reports.service\";\r\nimport * as i3 from \"../genral.service\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/material/tabs\";\r\nimport * as i6 from \"../tables/search-group-details.component\";\r\nexport class InventoryByTypeComponent {\r\n    constructor(dialog, localService, genral, _Activatedroute, cdRef, router) {\r\n        this.dialog = dialog;\r\n        this.localService = localService;\r\n        this.genral = genral;\r\n        this._Activatedroute = _Activatedroute;\r\n        this.cdRef = cdRef;\r\n        this.router = router;\r\n        this.tabIndex = 0;\r\n        this.ItemsChangable = new ReplaySubject();\r\n        this.totelAll = {\r\n            type: 'weight2',\r\n            name: 'totalBalance',\r\n            label: $localize `Sum`,\r\n            options: ['KG', 'LBS']\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n            if (params.get('number')) {\r\n                this.tabIndex = +params.get('number');\r\n                this.changed(+params.get('number'));\r\n            }\r\n            else {\r\n                this.changed(0);\r\n            }\r\n        });\r\n        this.columnsShow = [\r\n            {\r\n                type: 'nameId',\r\n                name: 'item',\r\n                label: $localize `Item`,\r\n                search: 'selectObjObj',\r\n                options: this.ItemsChangable,\r\n                group: 'item',\r\n            },\r\n            {\r\n                type: 'weight2',\r\n                name: 'totalStock',\r\n                label: $localize `Total item`,\r\n                search: 'objArray',\r\n                group: 'item',\r\n            },\r\n            {\r\n                type: 'nameId',\r\n                name: 'poCode',\r\n                label: $localize `PO#`,\r\n                search: 'object',\r\n                group: 'poCode',\r\n            },\r\n            {\r\n                name: 'supplierName',\r\n                label: $localize `Supplier`,\r\n                search: 'selectObj',\r\n                options: this.genral.getSuppliersCashew(),\r\n                group: 'poCode',\r\n            },\r\n            {\r\n                type: 'weight2',\r\n                name: 'totalBalance',\r\n                label: $localize `Amount`,\r\n                search: 'objArray',\r\n                // group: 'poCode',\r\n            },\r\n            {\r\n                type: 'arrayVal',\r\n                name: 'warehouses',\r\n                label: $localize `Warehouse`,\r\n                search: 'selectObjArr',\r\n                options: this.genral.getWearhouses(),\r\n            },\r\n            {\r\n                type: 'date',\r\n                name: 'receiptDate',\r\n                label: $localize `Receipt date`,\r\n                search: 'dates',\r\n            },\r\n            {\r\n                type: 'date',\r\n                name: 'processDate',\r\n                label: $localize `Process date`,\r\n                search: 'dates',\r\n            },\r\n            {\r\n                name: 'poInventoryRows',\r\n                type: 'kidArray',\r\n            },\r\n        ];\r\n        this.navigationSubscription = this.router.events.subscribe((e) => {\r\n            // If it is a NavigationEnd event re-initalise the component\r\n            if (e instanceof NavigationEnd) {\r\n                this._Activatedroute.paramMap.pipe(take(1)).subscribe(params => {\r\n                    if (params.get('number')) {\r\n                        this.tabIndex = +params.get('number');\r\n                    }\r\n                    else {\r\n                        this.tabIndex = 0;\r\n                    }\r\n                    this.changed(this.tabIndex);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    changed(event) {\r\n        switch (+event) {\r\n            case 0:\r\n                this.cashewSource = null;\r\n                this.localService.getCashewInventoryBullk().pipe(take(1)).subscribe(value => {\r\n                    this.cashewSource = value;\r\n                });\r\n                this.localService.getBulkPackCashewItems('BULK').pipe(take(1)).subscribe(val => {\r\n                    this.ItemsChangable.next(val);\r\n                });\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            case 1:\r\n                this.cashewSource = null;\r\n                this.localService.getCashewInventoryPacked().pipe(take(1)).subscribe(value => {\r\n                    this.cashewSource = value;\r\n                });\r\n                this.localService.getBulkPackCashewItems('PACKED').pipe(take(1)).subscribe(val => {\r\n                    this.ItemsChangable.next(val);\r\n                });\r\n                this.cdRef.detectChanges();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.navigationSubscription) {\r\n            this.navigationSubscription.unsubscribe();\r\n        }\r\n        this.ItemsChangable.unsubscribe();\r\n    }\r\n}\r\nInventoryByTypeComponent.ɵfac = function InventoryByTypeComponent_Factory(t) { return new (t || InventoryByTypeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ReportsService), i0.ɵɵdirectiveInject(i3.Genral), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.Router)); };\r\nInventoryByTypeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: InventoryByTypeComponent, selectors: [[\"inventory-by-type\"]], decls: 6, vars: 5, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1787427028548828174$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_1 = goog.getMsg(\"Inventory Stock Report\");\r\n        i18n_0 = MSG_EXTERNAL_1787427028548828174$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟41309da7012de9b2ae3e1fa10cbc907b09191ad1␟1787427028548828174:Inventory Stock Report`;\r\n    } let i18n_2; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_1339712197179795142$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_3 = goog.getMsg(\"Cashew material stock\");\r\n        i18n_2 = MSG_EXTERNAL_1339712197179795142$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_3;\r\n    }\r\n    else {\r\n        i18n_2 = $localize `:␟78f2b0d46b8fe4f09d0451ebf74b10eedec816b5␟1339712197179795142:Cashew material stock`;\r\n    } let i18n_4; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_5697935554652014157$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_5 = goog.getMsg(\"Cashew items stock\");\r\n        i18n_4 = MSG_EXTERNAL_5697935554652014157$$SRC_APP_REPORTS_INVENTORY_BY_TYPE_COMPONENT_TS_5;\r\n    }\r\n    else {\r\n        i18n_4 = $localize `:␟825ad3ea757cc81bbe6b85cc0771ddb129f1ec91␟5697935554652014157:Cashew items stock`;\r\n    } return [[2, \"text-align\", \"center\"], i18n_0, [\"mat-stretch-tabs\", \"\", 1, \"spac-print\", 3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", i18n_2], [\"label\", i18n_4], [3, \"mainColumns\", \"detailsSource\", \"totelAll\", \"withPaginator\"]]; }, template: function InventoryByTypeComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h1\", 0);\r\n        i0.ɵɵi18n(1, 1);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"mat-tab-group\", 2);\r\n        i0.ɵɵlistener(\"selectedIndexChange\", function InventoryByTypeComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) { return ctx.tabIndex = $event; })(\"selectedIndexChange\", function InventoryByTypeComponent_Template_mat_tab_group_selectedIndexChange_2_listener($event) { return ctx.changed($event); });\r\n        i0.ɵɵelement(3, \"mat-tab\", 3);\r\n        i0.ɵɵelement(4, \"mat-tab\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(5, \"search-group-details\", 5);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"selectedIndex\", ctx.tabIndex);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"mainColumns\", ctx.columnsShow)(\"detailsSource\", ctx.cashewSource)(\"totelAll\", ctx.totelAll)(\"withPaginator\", false);\r\n    } }, directives: [i5.MatTabGroup, i5.MatTab, i6.SearchGroupDetailsComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}