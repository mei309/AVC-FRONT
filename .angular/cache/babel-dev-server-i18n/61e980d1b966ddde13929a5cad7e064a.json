{"ast":null,"code":"import { EditDialogComponent } from './edit-dialog.component';\nimport { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./manager.service\";\nimport * as i2 from \"../genral.service\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"../tables/search-details.component\";\nimport * as i6 from \"./naming-setup.pipe\";\nexport class BillOfMaterialsComponent {\n  constructor(localService, genral, dialog) {\n    this.localService = localService;\n    this.genral = genral;\n    this.dialog = dialog;\n  }\n\n  ngOnInit() {\n    this.setupSource = null;\n    this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\n      this.setupSource = value ? value : [];\n    });\n    this.columnsSetup = [{\n      type: 'nameId',\n      name: 'product',\n      label: \"Product descrption\",\n      search: 'selectObjObj',\n      options: this.genral.getItemsCashew('All')\n    }, {\n      type: 'weight',\n      name: 'defaultBatch',\n      label: \"Amount\",\n      search: 'object'\n    }];\n    this.regConfigTemp = [{\n      type: 'selectItem',\n      label: \"Item descrption\",\n      name: 'product',\n      disable: true,\n      options: this.genral.getItemsCashew('All')\n    }, {\n      type: 'inputselect',\n      name: 'defaultBatch',\n      options: 'product',\n      inputType: 'second',\n      collections: [{\n        type: 'input',\n        label: \"Amount\",\n        name: 'amount',\n        inputType: 'numeric',\n        options: 3\n      }, {\n        type: 'select',\n        label: \"Unit\",\n        name: 'measureUnit',\n        value: 'LBS',\n        options: this.genral.getMeasureUnit()\n      }]\n    }, {\n      type: 'bigexpand',\n      name: 'bomList',\n      label: \"Materials amounts\",\n      collections: [{\n        type: 'selectItem',\n        label: \"Item descrption\",\n        name: 'material',\n        options: this.genral.getItemsGeneral()\n      }, {\n        type: 'inputselect',\n        name: 'defaultAmount',\n        options: 'material',\n        inputType: 'second',\n        collections: [{\n          type: 'input',\n          label: \"Amount\",\n          name: 'amount',\n          inputType: 'numeric',\n          options: 3\n        }, {\n          type: 'select',\n          label: \"Unit\",\n          name: 'measureUnit',\n          value: 'LBS',\n          options: this.genral.getMeasureUnit()\n        }]\n      }, {\n        type: 'divider',\n        inputType: 'divide'\n      }]\n    }, {\n      name: 'submit',\n      label: \"Submit\",\n      type: 'button'\n    }];\n  }\n\n  newDialog(value) {\n    let dialogRef;\n\n    if (value) {\n      this.localService.getItemBom(value.product.id).pipe(take(1)).subscribe(val => {\n        dialogRef = this.dialog.open(EditDialogComponent, {\n          width: '80%',\n          height: '80%',\n          data: {\n            regConfig: this.regConfigTemp,\n            mainLabel: 'Bom',\n            type: 'editBom',\n            putData: val\n          }\n        });\n        dialogRef.afterClosed().subscribe(data => {\n          if (data === 'success') {\n            this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\n              this.setupSource = value ? value : [];\n            });\n          }\n        });\n      });\n    } else {\n      dialogRef = this.dialog.open(EditDialogComponent, {\n        width: '80%',\n        height: '80%',\n        data: {\n          regConfig: this.regConfigTemp,\n          mainLabel: 'Bom',\n          type: 'Bom',\n          putData: null\n        }\n      });\n      dialogRef.afterClosed().subscribe(data => {\n        if (data === 'success') {\n          this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\n            this.setupSource = value ? value : [];\n          });\n        }\n      });\n    }\n  }\n\n}\n\nBillOfMaterialsComponent.ɵfac = function BillOfMaterialsComponent_Factory(t) {\n  return new (t || BillOfMaterialsComponent)(i0.ɵɵdirectiveInject(i1.ManagerService), i0.ɵɵdirectiveInject(i2.Genral), i0.ɵɵdirectiveInject(i3.MatDialog));\n};\n\nBillOfMaterialsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BillOfMaterialsComponent,\n  selectors: [[\"bill-of-materials\"]],\n  decls: 8,\n  vars: 6,\n  consts: function () {\n    let i18n_0;\n\n    if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n      const MSG_EXTERNAL_3481775607017022442$$SRC_APP_MANAGER_BILL_OF_MATERIALS_COMPONENT_TS_1 = goog.getMsg(\"Bill Of materials\");\n      i18n_0 = MSG_EXTERNAL_3481775607017022442$$SRC_APP_MANAGER_BILL_OF_MATERIALS_COMPONENT_TS_1;\n    } else {\n      i18n_0 = \"Bill Of materials\";\n    }\n\n    return [[2, \"text-align\", \"center\"], [1, \"no-print\"], i18n_0, [2, \"text-align\", \"left\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"left30-button\", 2, \"text-align\", \"left\", 3, \"click\"], [3, \"dataSource\", \"oneColumns\", \"details\"]];\n  },\n  template: function BillOfMaterialsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\", 1);\n      i0.ɵɵi18n(2, 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function BillOfMaterialsComponent_Template_button_click_4_listener() {\n        return ctx.newDialog();\n      });\n      i0.ɵɵtext(5);\n      i0.ɵɵpipe(6, \"namingPipe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"search-details\", 5);\n      i0.ɵɵlistener(\"details\", function BillOfMaterialsComponent_Template_search_details_details_7_listener($event) {\n        return ctx.newDialog($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, \"Bom\", \"add\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"dataSource\", ctx.setupSource)(\"oneColumns\", ctx.columnsSetup);\n    }\n  },\n  directives: [i4.MatButton, i5.SearchDetailsComponent],\n  pipes: [i6.NamingPipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/isral/OneDrive/Documents/AVC-FRONT/src/app/manager/bill-of-materials.component.ts"],"names":["EditDialogComponent","take","i0","i1","i2","i3","i4","i5","i6","BillOfMaterialsComponent","constructor","localService","genral","dialog","ngOnInit","setupSource","getAllBoms","pipe","subscribe","value","columnsSetup","type","name","label","search","options","getItemsCashew","regConfigTemp","disable","inputType","collections","getMeasureUnit","getItemsGeneral","newDialog","dialogRef","getItemBom","product","id","val","open","width","height","data","regConfig","mainLabel","putData","afterClosed","ɵfac","BillOfMaterialsComponent_Factory","t","ɵɵdirectiveInject","ManagerService","Genral","MatDialog","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","i18n_0","ngI18nClosureMode","MSG_EXTERNAL_3481775607017022442$$SRC_APP_MANAGER_BILL_OF_MATERIALS_COMPONENT_TS_1","goog","getMsg","template","BillOfMaterialsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","ɵɵlistener","BillOfMaterialsComponent_Template_button_click_4_listener","ɵɵtext","ɵɵpipe","BillOfMaterialsComponent_Template_search_details_details_7_listener","$event","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","ɵɵproperty","directives","MatButton","SearchDetailsComponent","pipes","NamingPipe","encapsulation"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,yBAApC;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,mBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,mBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,oCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,qBAApB;AACA,OAAO,MAAMC,wBAAN,CAA+B;AAClCC,EAAAA,WAAW,CAACC,YAAD,EAAeC,MAAf,EAAuBC,MAAvB,EAA+B;AACtC,SAAKF,YAAL,GAAoBA,YAApB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKJ,YAAL,CAAkBK,UAAlB,GAA+BC,IAA/B,CAAoChB,IAAI,CAAC,CAAD,CAAxC,EAA6CiB,SAA7C,CAAuDC,KAAK,IAAI;AAC5D,WAAKJ,WAAL,GAAmBI,KAAK,GAAGA,KAAH,GAAW,EAAnC;AACH,KAFD;AAGA,SAAKC,YAAL,GAAoB,CAChB;AACIC,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,IAAI,EAAE,SAFV;AAGIC,MAAAA,KAAK,sBAHT;AAIIC,MAAAA,MAAM,EAAE,cAJZ;AAKIC,MAAAA,OAAO,EAAE,KAAKb,MAAL,CAAYc,cAAZ,CAA2B,KAA3B;AALb,KADgB,EAQhB;AACIL,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,IAAI,EAAE,cAFV;AAGIC,MAAAA,KAAK,UAHT;AAIIC,MAAAA,MAAM,EAAE;AAJZ,KARgB,CAApB;AAeA,SAAKG,aAAL,GAAqB,CACjB;AACIN,MAAAA,IAAI,EAAE,YADV;AAEIE,MAAAA,KAAK,mBAFT;AAGID,MAAAA,IAAI,EAAE,SAHV;AAIIM,MAAAA,OAAO,EAAE,IAJb;AAKIH,MAAAA,OAAO,EAAE,KAAKb,MAAL,CAAYc,cAAZ,CAA2B,KAA3B;AALb,KADiB,EAQjB;AACIL,MAAAA,IAAI,EAAE,aADV;AAEIC,MAAAA,IAAI,EAAE,cAFV;AAGIG,MAAAA,OAAO,EAAE,SAHb;AAIII,MAAAA,SAAS,EAAE,QAJf;AAKIC,MAAAA,WAAW,EAAE,CACT;AACIT,QAAAA,IAAI,EAAE,OADV;AAEIE,QAAAA,KAAK,UAFT;AAGID,QAAAA,IAAI,EAAE,QAHV;AAIIO,QAAAA,SAAS,EAAE,SAJf;AAKIJ,QAAAA,OAAO,EAAE;AALb,OADS,EAQT;AACIJ,QAAAA,IAAI,EAAE,QADV;AAEIE,QAAAA,KAAK,QAFT;AAGID,QAAAA,IAAI,EAAE,aAHV;AAIIH,QAAAA,KAAK,EAAE,KAJX;AAKIM,QAAAA,OAAO,EAAE,KAAKb,MAAL,CAAYmB,cAAZ;AALb,OARS;AALjB,KARiB,EA8BjB;AACIV,MAAAA,IAAI,EAAE,WADV;AAEIC,MAAAA,IAAI,EAAE,SAFV;AAGIC,MAAAA,KAAK,qBAHT;AAIIO,MAAAA,WAAW,EAAE,CACT;AACIT,QAAAA,IAAI,EAAE,YADV;AAEIE,QAAAA,KAAK,mBAFT;AAGID,QAAAA,IAAI,EAAE,UAHV;AAIIG,QAAAA,OAAO,EAAE,KAAKb,MAAL,CAAYoB,eAAZ;AAJb,OADS,EAOT;AACIX,QAAAA,IAAI,EAAE,aADV;AAEIC,QAAAA,IAAI,EAAE,eAFV;AAGIG,QAAAA,OAAO,EAAE,UAHb;AAIII,QAAAA,SAAS,EAAE,QAJf;AAKIC,QAAAA,WAAW,EAAE,CACT;AACIT,UAAAA,IAAI,EAAE,OADV;AAEIE,UAAAA,KAAK,UAFT;AAGID,UAAAA,IAAI,EAAE,QAHV;AAIIO,UAAAA,SAAS,EAAE,SAJf;AAKIJ,UAAAA,OAAO,EAAE;AALb,SADS,EAQT;AACIJ,UAAAA,IAAI,EAAE,QADV;AAEIE,UAAAA,KAAK,QAFT;AAGID,UAAAA,IAAI,EAAE,aAHV;AAIIH,UAAAA,KAAK,EAAE,KAJX;AAKIM,UAAAA,OAAO,EAAE,KAAKb,MAAL,CAAYmB,cAAZ;AALb,SARS;AALjB,OAPS,EA6BT;AACIV,QAAAA,IAAI,EAAE,SADV;AAEIQ,QAAAA,SAAS,EAAE;AAFf,OA7BS;AAJjB,KA9BiB,EAqEjB;AACIP,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,KAAK,UAFT;AAGIF,MAAAA,IAAI,EAAE;AAHV,KArEiB,CAArB;AA2EH;;AACDY,EAAAA,SAAS,CAACd,KAAD,EAAQ;AACb,QAAIe,SAAJ;;AACA,QAAIf,KAAJ,EAAW;AACP,WAAKR,YAAL,CAAkBwB,UAAlB,CAA6BhB,KAAK,CAACiB,OAAN,CAAcC,EAA3C,EAA+CpB,IAA/C,CAAoDhB,IAAI,CAAC,CAAD,CAAxD,EAA6DiB,SAA7D,CAAuEoB,GAAG,IAAI;AAC1EJ,QAAAA,SAAS,GAAG,KAAKrB,MAAL,CAAY0B,IAAZ,CAAiBvC,mBAAjB,EAAsC;AAC9CwC,UAAAA,KAAK,EAAE,KADuC;AAE9CC,UAAAA,MAAM,EAAE,KAFsC;AAG9CC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,SAAS,EAAE,KAAKhB,aAAlB;AAAiCiB,YAAAA,SAAS,EAAE,KAA5C;AAAmDvB,YAAAA,IAAI,EAAE,SAAzD;AAAoEwB,YAAAA,OAAO,EAAEP;AAA7E;AAHwC,SAAtC,CAAZ;AAKAJ,QAAAA,SAAS,CAACY,WAAV,GAAwB5B,SAAxB,CAAkCwB,IAAI,IAAI;AACtC,cAAIA,IAAI,KAAK,SAAb,EAAwB;AACpB,iBAAK/B,YAAL,CAAkBK,UAAlB,GAA+BC,IAA/B,CAAoChB,IAAI,CAAC,CAAD,CAAxC,EAA6CiB,SAA7C,CAAuDC,KAAK,IAAI;AAC5D,mBAAKJ,WAAL,GAAmBI,KAAK,GAAGA,KAAH,GAAW,EAAnC;AACH,aAFD;AAGH;AACJ,SAND;AAOH,OAbD;AAcH,KAfD,MAgBK;AACDe,MAAAA,SAAS,GAAG,KAAKrB,MAAL,CAAY0B,IAAZ,CAAiBvC,mBAAjB,EAAsC;AAC9CwC,QAAAA,KAAK,EAAE,KADuC;AAE9CC,QAAAA,MAAM,EAAE,KAFsC;AAG9CC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,SAAS,EAAE,KAAKhB,aAAlB;AAAiCiB,UAAAA,SAAS,EAAE,KAA5C;AAAmDvB,UAAAA,IAAI,EAAE,KAAzD;AAAgEwB,UAAAA,OAAO,EAAE;AAAzE;AAHwC,OAAtC,CAAZ;AAKAX,MAAAA,SAAS,CAACY,WAAV,GAAwB5B,SAAxB,CAAkCwB,IAAI,IAAI;AACtC,YAAIA,IAAI,KAAK,SAAb,EAAwB;AACpB,eAAK/B,YAAL,CAAkBK,UAAlB,GAA+BC,IAA/B,CAAoChB,IAAI,CAAC,CAAD,CAAxC,EAA6CiB,SAA7C,CAAuDC,KAAK,IAAI;AAC5D,iBAAKJ,WAAL,GAAmBI,KAAK,GAAGA,KAAH,GAAW,EAAnC;AACH,WAFD;AAGH;AACJ,OAND;AAOH;AACJ;;AAtIiC;;AAwItCV,wBAAwB,CAACsC,IAAzB,GAAgC,SAASC,gCAAT,CAA0CC,CAA1C,EAA6C;AAAE,SAAO,KAAKA,CAAC,IAAIxC,wBAAV,EAAoCP,EAAE,CAACgD,iBAAH,CAAqB/C,EAAE,CAACgD,cAAxB,CAApC,EAA6EjD,EAAE,CAACgD,iBAAH,CAAqB9C,EAAE,CAACgD,MAAxB,CAA7E,EAA8GlD,EAAE,CAACgD,iBAAH,CAAqB7C,EAAE,CAACgD,SAAxB,CAA9G,CAAP;AAA2J,CAA1O;;AACA5C,wBAAwB,CAAC6C,IAAzB,GAAgC,aAAcpD,EAAE,CAACqD,iBAAH,CAAqB;AAAElC,EAAAA,IAAI,EAAEZ,wBAAR;AAAkC+C,EAAAA,SAAS,EAAE,CAAC,CAAC,mBAAD,CAAD,CAA7C;AAAsEC,EAAAA,KAAK,EAAE,CAA7E;AAAgFC,EAAAA,IAAI,EAAE,CAAtF;AAAyFC,EAAAA,MAAM,EAAE,YAAY;AAAE,QAAIC,MAAJ;;AAAY,QAAI,OAAOC,iBAAP,KAA6B,WAA7B,IAA4CA,iBAAhD,EAAmE;AACzP,YAAMC,kFAAkF,GAAGC,IAAI,CAACC,MAAL,CAAY,mBAAZ,CAA3F;AACAJ,MAAAA,MAAM,GAAGE,kFAAT;AACH,KAHyL,MAIrL;AACDF,MAAAA,MAAM,sBAAN;AACH;;AAAC,WAAO,CAAC,CAAC,CAAD,EAAI,YAAJ,EAAkB,QAAlB,CAAD,EAA8B,CAAC,CAAD,EAAI,UAAJ,CAA9B,EAA+CA,MAA/C,EAAuD,CAAC,CAAD,EAAI,YAAJ,EAAkB,MAAlB,CAAvD,EAAkF,CAAC,mBAAD,EAAsB,EAAtB,EAA0B,OAA1B,EAAmC,SAAnC,EAA8C,CAA9C,EAAiD,eAAjD,EAAkE,CAAlE,EAAqE,YAArE,EAAmF,MAAnF,EAA2F,CAA3F,EAA8F,OAA9F,CAAlF,EAA0L,CAAC,CAAD,EAAI,YAAJ,EAAkB,YAAlB,EAAgC,SAAhC,CAA1L,CAAP;AAA+O,GANlL;AAMoLK,EAAAA,QAAQ,EAAE,SAASC,iCAAT,CAA2CC,EAA3C,EAA+CC,GAA/C,EAAoD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC3TjE,MAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAnE,MAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B;AACAnE,MAAAA,EAAE,CAACoE,MAAH,CAAU,CAAV,EAAa,CAAb;AACApE,MAAAA,EAAE,CAACqE,YAAH;AACArE,MAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAnE,MAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,CAA/B;AACAnE,MAAAA,EAAE,CAACsE,UAAH,CAAc,OAAd,EAAuB,SAASC,yDAAT,GAAqE;AAAE,eAAOL,GAAG,CAACnC,SAAJ,EAAP;AAAyB,OAAvH;AACA/B,MAAAA,EAAE,CAACwE,MAAH,CAAU,CAAV;AACAxE,MAAAA,EAAE,CAACyE,MAAH,CAAU,CAAV,EAAa,YAAb;AACAzE,MAAAA,EAAE,CAACqE,YAAH;AACArE,MAAAA,EAAE,CAACqE,YAAH;AACArE,MAAAA,EAAE,CAACmE,cAAH,CAAkB,CAAlB,EAAqB,gBAArB,EAAuC,CAAvC;AACAnE,MAAAA,EAAE,CAACsE,UAAH,CAAc,SAAd,EAAyB,SAASI,mEAAT,CAA6EC,MAA7E,EAAqF;AAAE,eAAOT,GAAG,CAACnC,SAAJ,CAAc4C,MAAd,CAAP;AAA+B,OAA/I;AACA3E,MAAAA,EAAE,CAACqE,YAAH;AACArE,MAAAA,EAAE,CAACqE,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACVjE,MAAAA,EAAE,CAAC4E,SAAH,CAAa,CAAb;AACA5E,MAAAA,EAAE,CAAC6E,iBAAH,CAAqB7E,EAAE,CAAC8E,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqB,KAArB,EAA4B,KAA5B,CAArB;AACA9E,MAAAA,EAAE,CAAC4E,SAAH,CAAa,CAAb;AACA5E,MAAAA,EAAE,CAAC+E,UAAH,CAAc,YAAd,EAA4Bb,GAAG,CAACrD,WAAhC,EAA6C,YAA7C,EAA2DqD,GAAG,CAAChD,YAA/D;AACH;AAAE,GA3B4D;AA2B1D8D,EAAAA,UAAU,EAAE,CAAC5E,EAAE,CAAC6E,SAAJ,EAAe5E,EAAE,CAAC6E,sBAAlB,CA3B8C;AA2BHC,EAAAA,KAAK,EAAE,CAAC7E,EAAE,CAAC8E,UAAJ,CA3BJ;AA2BqBC,EAAAA,aAAa,EAAE;AA3BpC,CAArB,CAA9C","sourcesContent":["import { EditDialogComponent } from './edit-dialog.component';\r\nimport { take } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./manager.service\";\r\nimport * as i2 from \"../genral.service\";\r\nimport * as i3 from \"@angular/material/dialog\";\r\nimport * as i4 from \"@angular/material/button\";\r\nimport * as i5 from \"../tables/search-details.component\";\r\nimport * as i6 from \"./naming-setup.pipe\";\r\nexport class BillOfMaterialsComponent {\r\n    constructor(localService, genral, dialog) {\r\n        this.localService = localService;\r\n        this.genral = genral;\r\n        this.dialog = dialog;\r\n    }\r\n    ngOnInit() {\r\n        this.setupSource = null;\r\n        this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\r\n            this.setupSource = value ? value : [];\r\n        });\r\n        this.columnsSetup = [\r\n            {\r\n                type: 'nameId',\r\n                name: 'product',\r\n                label: $localize `Product descrption`,\r\n                search: 'selectObjObj',\r\n                options: this.genral.getItemsCashew('All'),\r\n            },\r\n            {\r\n                type: 'weight',\r\n                name: 'defaultBatch',\r\n                label: $localize `Amount`,\r\n                search: 'object',\r\n            },\r\n        ];\r\n        this.regConfigTemp = [\r\n            {\r\n                type: 'selectItem',\r\n                label: $localize `Item descrption`,\r\n                name: 'product',\r\n                disable: true,\r\n                options: this.genral.getItemsCashew('All'),\r\n            },\r\n            {\r\n                type: 'inputselect',\r\n                name: 'defaultBatch',\r\n                options: 'product',\r\n                inputType: 'second',\r\n                collections: [\r\n                    {\r\n                        type: 'input',\r\n                        label: $localize `Amount`,\r\n                        name: 'amount',\r\n                        inputType: 'numeric',\r\n                        options: 3,\r\n                    },\r\n                    {\r\n                        type: 'select',\r\n                        label: $localize `Unit`,\r\n                        name: 'measureUnit',\r\n                        value: 'LBS',\r\n                        options: this.genral.getMeasureUnit(),\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                type: 'bigexpand',\r\n                name: 'bomList',\r\n                label: $localize `Materials amounts`,\r\n                collections: [\r\n                    {\r\n                        type: 'selectItem',\r\n                        label: $localize `Item descrption`,\r\n                        name: 'material',\r\n                        options: this.genral.getItemsGeneral(),\r\n                    },\r\n                    {\r\n                        type: 'inputselect',\r\n                        name: 'defaultAmount',\r\n                        options: 'material',\r\n                        inputType: 'second',\r\n                        collections: [\r\n                            {\r\n                                type: 'input',\r\n                                label: $localize `Amount`,\r\n                                name: 'amount',\r\n                                inputType: 'numeric',\r\n                                options: 3,\r\n                            },\r\n                            {\r\n                                type: 'select',\r\n                                label: $localize `Unit`,\r\n                                name: 'measureUnit',\r\n                                value: 'LBS',\r\n                                options: this.genral.getMeasureUnit(),\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        type: 'divider',\r\n                        inputType: 'divide'\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                name: 'submit',\r\n                label: $localize `Submit`,\r\n                type: 'button',\r\n            }\r\n        ];\r\n    }\r\n    newDialog(value) {\r\n        let dialogRef;\r\n        if (value) {\r\n            this.localService.getItemBom(value.product.id).pipe(take(1)).subscribe(val => {\r\n                dialogRef = this.dialog.open(EditDialogComponent, {\r\n                    width: '80%',\r\n                    height: '80%',\r\n                    data: { regConfig: this.regConfigTemp, mainLabel: 'Bom', type: 'editBom', putData: val },\r\n                });\r\n                dialogRef.afterClosed().subscribe(data => {\r\n                    if (data === 'success') {\r\n                        this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\r\n                            this.setupSource = value ? value : [];\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            dialogRef = this.dialog.open(EditDialogComponent, {\r\n                width: '80%',\r\n                height: '80%',\r\n                data: { regConfig: this.regConfigTemp, mainLabel: 'Bom', type: 'Bom', putData: null },\r\n            });\r\n            dialogRef.afterClosed().subscribe(data => {\r\n                if (data === 'success') {\r\n                    this.localService.getAllBoms().pipe(take(1)).subscribe(value => {\r\n                        this.setupSource = value ? value : [];\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nBillOfMaterialsComponent.ɵfac = function BillOfMaterialsComponent_Factory(t) { return new (t || BillOfMaterialsComponent)(i0.ɵɵdirectiveInject(i1.ManagerService), i0.ɵɵdirectiveInject(i2.Genral), i0.ɵɵdirectiveInject(i3.MatDialog)); };\r\nBillOfMaterialsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: BillOfMaterialsComponent, selectors: [[\"bill-of-materials\"]], decls: 8, vars: 6, consts: function () { let i18n_0; if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\r\n        const MSG_EXTERNAL_3481775607017022442$$SRC_APP_MANAGER_BILL_OF_MATERIALS_COMPONENT_TS_1 = goog.getMsg(\"Bill Of materials\");\r\n        i18n_0 = MSG_EXTERNAL_3481775607017022442$$SRC_APP_MANAGER_BILL_OF_MATERIALS_COMPONENT_TS_1;\r\n    }\r\n    else {\r\n        i18n_0 = $localize `:␟73a846a3648d1724663e73343145364680f18905␟3481775607017022442:Bill Of materials`;\r\n    } return [[2, \"text-align\", \"center\"], [1, \"no-print\"], i18n_0, [2, \"text-align\", \"left\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"left30-button\", 2, \"text-align\", \"left\", 3, \"click\"], [3, \"dataSource\", \"oneColumns\", \"details\"]]; }, template: function BillOfMaterialsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"h1\", 1);\r\n        i0.ɵɵi18n(2, 2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"button\", 4);\r\n        i0.ɵɵlistener(\"click\", function BillOfMaterialsComponent_Template_button_click_4_listener() { return ctx.newDialog(); });\r\n        i0.ɵɵtext(5);\r\n        i0.ɵɵpipe(6, \"namingPipe\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"search-details\", 5);\r\n        i0.ɵɵlistener(\"details\", function BillOfMaterialsComponent_Template_search_details_details_7_listener($event) { return ctx.newDialog($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, \"Bom\", \"add\"));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"dataSource\", ctx.setupSource)(\"oneColumns\", ctx.columnsSetup);\r\n    } }, directives: [i4.MatButton, i5.SearchDetailsComponent], pipes: [i6.NamingPipe], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}